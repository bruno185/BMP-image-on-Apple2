------+---------------------+-------------+----+---------+------+-----------------------+-------------------------------------------------------------------
 Line | # File         Line | Line Type   | MX |  Reloc  | Size | Address   Object Code |  Source Code                                                      
------+---------------------+-------------+----+---------+------+-----------------------+-------------------------------------------------------------------
    1 |  1 asmdemo.s      1 | Comment     | 11 |         |    0 | 00/8000               | * * * * * * * * * * * * * * * * * * * * * * * * * * * 
    2 |  1 asmdemo.s      2 | Comment     | 11 |         |    0 | 00/8000               | *                                                   *
    3 |  1 asmdemo.s      3 | Comment     | 11 |         |    0 | 00/8000               | *   Diplay a BMP image using Graphics Primitives    *      
    4 |  1 asmdemo.s      4 | Comment     | 11 |         |    0 | 00/8000               | *                                                   *  
    5 |  1 asmdemo.s      5 | Comment     | 11 |         |    0 | 00/8000               | * * * * * * * * * * * * * * * * * * * * * * * * * * *  
    6 |  1 asmdemo.s      6 | Comment     | 11 |         |    0 | 00/8000               | *
    7 |  1 asmdemo.s      7 | Comment     | 11 |         |    0 | 00/8000               | * BMP is loaded by this program, and tests are performed :
    8 |  1 asmdemo.s      8 | Comment     | 11 |         |    0 | 00/8000               |         * BMP image must have 1 bit per pixel
    9 |  1 asmdemo.s      9 | Comment     | 11 |         |    0 | 00/8000               |         * Dimension must not exceed 280 x 192
   10 |  1 asmdemo.s     10 | Comment     | 11 |         |    0 | 00/8000               |         * Every bit (= pixel) in BMP file is doubled horizontally 
   11 |  1 asmdemo.s     11 | Comment     | 11 |         |    0 | 00/8000               | * to respect image aspect ratio (more or less)
   12 |  1 asmdemo.s     12 | Comment     | 11 |         |    0 | 00/8000               | * The image is drawn line by line, using PaintBits function of Graphics Primitives package
   13 |  1 asmdemo.s     13 | Comment     | 11 |         |    0 | 00/8000               | *
   14 |  1 asmdemo.s     14 | Comment     | 11 |         |    0 | 00/8000               | *
   15 |  1 asmdemo.s     15 | Comment     | 11 |         |    0 | 00/8000               | * Memory :
   16 |  1 asmdemo.s     16 | Comment     | 11 |         |    0 | 00/8000               | * STARTUP (Basic) : $801 
   17 |  1 asmdemo.s     17 | Comment     | 11 |         |    0 | 00/8000               | * Font : $800 : destroy STARTUP !
   18 |  1 asmdemo.s     18 | Comment     | 11 |         |    0 | 00/8000               | * Program : $E00 - $1FFF
   19 |  1 asmdemo.s     19 | Comment     | 11 |         |    0 | 00/8000               | * Screen : $2000 - $3FFF
   20 |  1 asmdemo.s     20 | Comment     | 11 |         |    0 | 00/8000               | * GP Library : $4000 - $5FFF
   21 |  1 asmdemo.s     21 | Comment     | 11 |         |    0 | 00/8000               | * BMP Image : $6000 - $7FFF
   22 |  1 asmdemo.s     22 | Comment     | 11 |         |    0 | 00/8000               | * grafport storage : $8000
   23 |  1 asmdemo.s     23 | Empty       | 11 |         |    0 | 00/8000               |                                                    
   24 |  1 asmdemo.s     24 | Comment     | 11 |         |    0 | 00/8000               | *<sym>
   25 |  1 asmdemo.s     25 | Directive   | 11 |         |    0 | 00/8000               | GP_call              MAC                           ; call to graphic primitives (macro)
   26 |  1 asmdemo.s     26 | Directive   | 11 |         |    0 | 00/8000               |                      jsr      {$4000}              ; graphic primitives only entry point
   27 |  1 asmdemo.s     27 | Directive   | 11 |         |    0 | 00/8000               |                      dfb      ]1                   ; command ID (1 byte)
   28 |  1 asmdemo.s     28 | Directive   | 11 |         |    0 | 00/8000               |                      da       ]2                   ; address of parameter(s) (2 bytes), 0 if no paramter
   29 |  1 asmdemo.s     29 | Directive   | 11 |         |    0 | 00/8000               |                      EOM                           
   30 |  1 asmdemo.s     30 | Empty       | 11 |         |    0 | 00/8000               |                                                    
   31 |  1 asmdemo.s     31 | Directive   | 11 |         |    0 | 00/8000               |                      put      equates              
   32 |  2 equates.s      1 | Comment     | 11 |         |    0 | 00/8000               | ;
   33 |  2 equates.s      2 | Comment     | 11 |         |    0 | 00/8000               | ; equate file for interfacing to toolkit/graphics
   34 |  2 equates.s      3 | Comment     | 11 |         |    0 | 00/8000               | ;
   35 |  2 equates.s      4 | Equivalence | 11 |         |    0 | 00/8000               | ToolMLI              equ      $4000                
   36 |  2 equates.s      5 | Equivalence | 11 |         |    0 | 00/8000               | GrafMLI              equ      $4000                
   37 |  2 equates.s      6 | Comment     | 11 |         |    0 | 00/8000               | ;
   38 |  2 equates.s      7 | Comment     | 11 |         |    0 | 00/8000               | ; constants
   39 |  2 equates.s      8 | Comment     | 11 |         |    0 | 00/8000               | ;
   40 |  2 equates.s      9 | Equivalence | 11 |         |    0 | 00/8000               | SrcCopy              equ      0                    
   41 |  2 equates.s     10 | Equivalence | 11 |         |    0 | 00/8000               | SrcOr                equ      1                    
   42 |  2 equates.s     11 | Equivalence | 11 |         |    0 | 00/8000               | SrcXor               equ      2                    
   43 |  2 equates.s     12 | Equivalence | 11 |         |    0 | 00/8000               | SrcBic               equ      3                    
   44 |  2 equates.s     13 | Equivalence | 11 |         |    0 | 00/8000               | SrcNotCopy           equ      4                    
   45 |  2 equates.s     14 | Equivalence | 11 |         |    0 | 00/8000               | SrcNotOr             equ      5                    
   46 |  2 equates.s     15 | Equivalence | 11 |         |    0 | 00/8000               | SrcNotXor            equ      6                    
   47 |  2 equates.s     16 | Equivalence | 11 |         |    0 | 00/8000               | SrcNotBic            equ      7                    
   48 |  2 equates.s     17 | Comment     | 11 |         |    0 | 00/8000               | ;
   49 |  2 equates.s     18 | Comment     | 11 |         |    0 | 00/8000               | ; grafport structure
   50 |  2 equates.s     19 | Comment     | 11 |         |    0 | 00/8000               | ;
   51 |  2 equates.s     20 | Equivalence | 11 |         |    0 | 00/8000               | viewloc              equ      0                    
   52 |  2 equates.s     21 | Equivalence | 11 |         |    0 | 00/8000               | portbits             equ      {0}+4                
   53 |  2 equates.s     22 | Equivalence | 11 |         |    0 | 00/8000               | portwidth            equ      {{0}+4}+2            ; 1 byte for width, the other is reserved.
   54 |  2 equates.s     23 | Equivalence | 11 |         |    0 | 00/8000               | portrect             equ      {{{0}+4}+2}+2        
   55 |  2 equates.s     24 | Equivalence | 11 |         |    0 | 00/8000               | penpat               equ      {{{{0}+4}+2}+2}+8    
   56 |  2 equates.s     25 | Equivalence | 11 |         |    0 | 00/8000               | penloc               equ      {{{{{0}+4}+2}+2}+8}+10
   57 |  2 equates.s     26 | Equivalence | 11 |         |    0 | 00/8000               | pensize              equ      {{{{{{0}+4}+2}+2}+8}+10}+4
   58 |  2 equates.s     27 | Equivalence | 11 |         |    0 | 00/8000               | penmode              equ      {{{{{{{0}+4}+2}+2}+8}+10}+4}+2
   59 |  2 equates.s     28 | Equivalence | 11 |         |    0 | 00/8000               | txback               equ      {{{{{{{{0}+4}+2}+2}+8}+10}+4}+2}+1
   60 |  2 equates.s     29 | Equivalence | 11 |         |    0 | 00/8000               | txfont               equ      {{{{{{{{{0}+4}+2}+2}+8}+10}+4}+2}+1}+1
   61 |  2 equates.s     30 | Comment     | 11 |         |    0 | 00/8000               | ;
   62 |  2 equates.s     31 | Equivalence | 11 |         |    0 | 00/8000               | portlength           equ      {{{{{{{{{{0}+4}+2}+2}+8}+10}+4}+2}+1}+1}+2
   63 |  2 equates.s     32 | Comment     | 11 |         |    0 | 00/8000               | ;
   64 |  2 equates.s     33 | Comment     | 11 |         |    0 | 00/8000               | ;
   65 |  2 equates.s     34 | Comment     | 11 |         |    0 | 00/8000               | ; command numbers
   66 |  2 equates.s     35 | Comment     | 11 |         |    0 | 00/8000               | ;
   67 |  2 equates.s     36 | Equivalence | 11 |         |    0 | 00/8000               | InitGraf             equ      1                    
   68 |  2 equates.s     37 | Equivalence | 11 |         |    0 | 00/8000               | SetSwitches          equ      {1}+1                
   69 |  2 equates.s     38 | Comment     | 11 |         |    0 | 00/8000               | ;
   70 |  2 equates.s     39 | Equivalence | 11 |         |    0 | 00/8000               | InitPort             equ      {{1}+1}+1            
   71 |  2 equates.s     40 | Equivalence | 11 |         |    0 | 00/8000               | SetPort              equ      {{{1}+1}+1}+1        
   72 |  2 equates.s     41 | Equivalence | 11 |         |    0 | 00/8000               | GetPort              equ      {{{{1}+1}+1}+1}+1    
   73 |  2 equates.s     42 | Equivalence | 11 |         |    0 | 00/8000               | SetPortBits          equ      {{{{{1}+1}+1}+1}+1}+1
   74 |  2 equates.s     43 | Equivalence | 11 |         |    0 | 00/8000               | SetPenMode           equ      {{{{{{1}+1}+1}+1}+1}+1}+1
   75 |  2 equates.s     44 | Equivalence | 11 |         |    0 | 00/8000               | SetPattern           equ      {{{{{{{1}+1}+1}+1}+1}+1}+1}+1
   76 |  2 equates.s     45 | Equivalence | 11 |         |    0 | 00/8000               | SetColorFlags        equ      {{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1
   77 |  2 equates.s     46 | Equivalence | 11 |         |    0 | 00/8000               | SetPenSize           equ      {{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   78 |  2 equates.s     47 | Equivalence | 11 |         |    0 | 00/8000               | SetFont              equ      {{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   79 |  2 equates.s     48 | Equivalence | 11 |         |    0 | 00/8000               | SetTextBG            equ      {{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   80 |  2 equates.s     49 | Comment     | 11 |         |    0 | 00/8000               | ;
   81 |  2 equates.s     50 | Equivalence | 11 |         |    0 | 00/8000               | Move                 equ      {{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   82 |  2 equates.s     51 | Equivalence | 11 |         |    0 | 00/8000               | MoveTo               equ      {{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   83 |  2 equates.s     52 | Equivalence | 11 |         |    0 | 00/8000               | Line                 equ      {{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   84 |  2 equates.s     53 | Equivalence | 11 |         |    0 | 00/8000               | LineTo               equ      {{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   85 |  2 equates.s     54 | Equivalence | 11 |         |    0 | 00/8000               | PaintRect            equ      {{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   86 |  2 equates.s     55 | Equivalence | 11 |         |    0 | 00/8000               | FrameRect            equ      {{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   87 |  2 equates.s     56 | Equivalence | 11 |         |    0 | 00/8000               | InRect               equ      {{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   88 |  2 equates.s     57 | Equivalence | 11 |         |    0 | 00/8000               | PaintBits            equ      {{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   89 |  2 equates.s     58 | Equivalence | 11 |         |    0 | 00/8000               | PaintPoly            equ      {{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   90 |  2 equates.s     59 | Equivalence | 11 |         |    0 | 00/8000               | FramePoly            equ      {{{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   91 |  2 equates.s     60 | Equivalence | 11 |         |    0 | 00/8000               | InPoly               equ      {{{{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   92 |  2 equates.s     61 | Comment     | 11 |         |    0 | 00/8000               | ;
   93 |  2 equates.s     62 | Equivalence | 11 |         |    0 | 00/8000               | TextWidth            equ      {{{{{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   94 |  2 equates.s     63 | Equivalence | 11 |         |    0 | 00/8000               | DrawText             equ      {{{{{{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   95 |  2 equates.s     64 | Comment     | 11 |         |    0 | 00/8000               | ;
   96 |  2 equates.s     65 | Equivalence | 11 |         |    0 | 00/8000               | SetZP1               equ      {{{{{{{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   97 |  2 equates.s     66 | Equivalence | 11 |         |    0 | 00/8000               | SetZP2               equ      {{{{{{{{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   98 |  2 equates.s     67 | Equivalence | 11 |         |    0 | 00/8000               | GetVersion           equ      {{{{{{{{{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1
   99 |  2 equates.s     68 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  100 |  2 equates.s     69 | Comment     | 11 |         |    0 | 00/8000               | ; DATA STRUCTURES
  101 |  2 equates.s     70 | Comment     | 11 |         |    0 | 00/8000               | ;
  102 |  2 equates.s     71 | Comment     | 11 |         |    0 | 00/8000               | ; The following data structures are defined as types (Pascal format):
  103 |  2 equates.s     72 | Comment     | 11 |         |    0 | 00/8000               |     ; byte = 0..255;
  104 |  2 equates.s     73 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  105 |  2 equates.s     74 | Comment     | 11 |         |    0 | 00/8000               |     ; bits = packed array (0..7) of boolean;
  106 |  2 equates.s     75 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  107 |  2 equates.s     76 | Comment     | 11 |         |    0 | 00/8000               |     ; pmode = (penCopy, penOr, penXor, penBic, notpenCopy, notpenOr, notpenXor, notpenBic);
  108 |  2 equates.s     77 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  109 |  2 equates.s     78 | Comment     | 11 |         |    0 | 00/8000               |     ; point = record
  110 |  2 equates.s     79 | Comment     | 11 |         |    0 | 00/8000               |         ; x: integer;
  111 |  2 equates.s     80 | Comment     | 11 |         |    0 | 00/8000               |         ; y: integer;
  112 |  2 equates.s     81 | Comment     | 11 |         |    0 | 00/8000               |     ; end;
  113 |  2 equates.s     82 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  114 |  2 equates.s     83 | Comment     | 11 |         |    0 | 00/8000               |     ; rect = record
  115 |  2 equates.s     84 | Comment     | 11 |         |    0 | 00/8000               |         ; case integer of
  116 |  2 equates.s     85 | Comment     | 11 |         |    0 | 00/8000               |         ; 0: (left: integer; top: integer; right: integer; bottom: integer);
  117 |  2 equates.s     86 | Comment     | 11 |         |    0 | 00/8000               |         ; 1: (topleft: point; botright: point);
  118 |  2 equates.s     87 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  119 |  2 equates.s     88 | Comment     | 11 |         |    0 | 00/8000               |     ; maplnfo = packed record
  120 |  2 equates.s     89 | Comment     | 11 |         |    0 | 00/8000               |         ; viewloc: point;
  121 |  2 equates.s     90 | Comment     | 11 |         |    0 | 00/8000               |         ; mspbits: pointer;
  122 |  2 equates.s     91 | Comment     | 11 |         |    0 | 00/8000               |         ; mspwidth: byte;
  123 |  2 equates.s     92 | Comment     | 11 |         |    0 | 00/8000               |         ; reserved: byte;
  124 |  2 equates.s     93 | Comment     | 11 |         |    0 | 00/8000               |         ; maprect: rect;
  125 |  2 equates.s     94 | Comment     | 11 |         |    0 | 00/8000               |     ; end;
  126 |  2 equates.s     95 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  127 |  2 equates.s     96 | Comment     | 11 |         |    0 | 00/8000               |     ; pattern = packed array [1..9] of byte;                ; 1..8 ???
  128 |  2 equates.s     97 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  129 |  2 equates.s     98 | Comment     | 11 |         |    0 | 00/8000               |     ; maskinfo = packed record
  130 |  2 equates.s     99 | Comment     | 11 |         |    0 | 00/8000               |         ; ANDmask: byte;
  131 |  2 equates.s    100 | Comment     | 11 |         |    0 | 00/8000               |         ; ORmask: byte;
  132 |  2 equates.s    101 | Comment     | 11 |         |    0 | 00/8000               |     ; end;
  133 |  2 equates.s    102 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  134 |  2 equates.s    103 | Comment     | 11 |         |    0 | 00/8000               |     ; GrafPort = packed record
  135 |  2 equates.s    104 | Comment     | 11 |         |    0 | 00/8000               |         ; portmap: maplnfo;
  136 |  2 equates.s    105 | Comment     | 11 |         |    0 | 00/8000               |         ; penpattern: pattern;
  137 |  2 equates.s    106 | Comment     | 11 |         |    0 | 00/8000               |         ; colormasks: maskinfo;
  138 |  2 equates.s    107 | Comment     | 11 |         |    0 | 00/8000               |         ; penloc: point;
  139 |  2 equates.s    108 | Comment     | 11 |         |    0 | 00/8000               |         ; penwidth: byte;
  140 |  2 equates.s    109 | Comment     | 11 |         |    0 | 00/8000               |         ; penheight: byte;
  141 |  2 equates.s    110 | Comment     | 11 |         |    0 | 00/8000               |         ; penmode: pmode;
  142 |  2 equates.s    111 | Comment     | 11 |         |    0 | 00/8000               |         ; reserved: 0..31;
  143 |  2 equates.s    112 | Comment     | 11 |         |    0 | 00/8000               |         ; textback: byte;
  144 |  2 equates.s    113 | Comment     | 11 |         |    0 | 00/8000               |         ; textfont: integer;
  145 |  2 equates.s    114 | Comment     | 11 |         |    0 | 00/8000               |     ; end;
  146 |  2 equates.s    115 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  147 |  1 asmdemo.s     32 | Directive   | 11 |         |    0 | 00/8000               |                      put      equ                  
  148 |  3     equ.s      1 | Comment     | 11 |         |    0 | 00/8000               | ************ ROM routines ************ 
  149 |  3     equ.s      2 | Equivalence | 11 |         |    0 | 00/8000               | home                 equ      $FC58                ; clear text screen, reset margins
  150 |  3     equ.s      3 | Equivalence | 11 |         |    0 | 00/8000               | text                 equ      $FB2F                ; text mode
  151 |  3     equ.s      4 | Equivalence | 11 |         |    0 | 00/8000               | Bell                 equ      $FBDD                ; play a sound
  152 |  3     equ.s      5 | Equivalence | 11 |         |    0 | 00/8000               | cout                 equ      $FDED                ; print char in A
  153 |  3     equ.s      6 | Equivalence | 11 |         |    0 | 00/8000               | vtab                 equ      $FC22                ; vert. tab, value must be in CV ($25)
  154 |  3     equ.s      7 | Equivalence | 11 |         |    0 | 00/8000               | getln                equ      $FD6A                ; read line of input (=> X = length, buffer = $200)
  155 |  3     equ.s      8 | Equivalence | 11 |         |    0 | 00/8000               | getlnz               equ      $FD67                ; = return + getln
  156 |  3     equ.s      9 | Equivalence | 11 |         |    0 | 00/8000               | getln1               equ      $FD6F                ; = getln without prompt
  157 |  3     equ.s     10 | Equivalence | 11 |         |    0 | 00/8000               | bascalc              equ      $FBC1                ; calc. address of line in A, put address in $28/$29
  158 |  3     equ.s     11 | Equivalence | 11 |         |    0 | 00/8000               | crout                equ      $FD8E                ; print carriage return
  159 |  3     equ.s     12 | Equivalence | 11 |         |    0 | 00/8000               | clreop               equ      $FC42                ; clear from cursor to end of page
  160 |  3     equ.s     13 | Equivalence | 11 |         |    0 | 00/8000               | clreol               equ      $FC9C                ; clear from cursor to end of line
  161 |  3     equ.s     14 | Equivalence | 11 |         |    0 | 00/8000               | prntx                equ      $F944                ; prints X in hex (2 digits)
  162 |  3     equ.s     15 | Equivalence | 11 |         |    0 | 00/8000               | prbyte               equ      $FDDA                ; prints A in hex (2 digits)
  163 |  3     equ.s     16 | Equivalence | 11 |         |    0 | 00/8000               | printax              equ      $F941                ; Prints current contents of the A and X in hex
  164 |  3     equ.s     17 | Equivalence | 11 |         |    0 | 00/8000               | prntyx               equ      $F940                ; Prints current contents of the Y and X in hex
  165 |  3     equ.s     18 | Equivalence | 11 |         |    0 | 00/8000               | rdkey                equ      $FD0C                ; wait for keypress
  166 |  3     equ.s     19 | Equivalence | 11 |         |    0 | 00/8000               | wait                 equ      $FCA8                ; monitor delay
  167 |  3     equ.s     20 | Equivalence | 11 |         |    0 | 00/8000               | AUXMOV               equ      $C311                
  168 |  3     equ.s     21 | Equivalence | 11 |         |    0 | 00/8000               | OUTPORT              equ      $FE95                
  169 |  3     equ.s     22 | Equivalence | 11 |         |    0 | 00/8000               | prnxy                equ      $F940                
  170 |  3     equ.s     23 | Equivalence | 11 |         |    0 | 00/8000               | normal               equ      $FE84                ; Set normal video mode (white on black)
  171 |  3     equ.s     24 | Equivalence | 11 |         |    0 | 00/8000               | pr0                  equ      $fe93                ; SETVID (= PR#0)
  172 |  3     equ.s     25 | Equivalence | 11 |         |    0 | 00/8000               | in0                  equ      $fe89                ; SETKBD (= IN#0)
  173 |  3     equ.s     26 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  174 |  3     equ.s     27 | Comment     | 11 |         |    0 | 00/8000               | *
  175 |  3     equ.s     28 | Comment     | 11 |         |    0 | 00/8000               | ************ ROM switches ************  
  176 |  3     equ.s     29 | Equivalence | 11 |         |    0 | 00/8000               | STORE80OFF           equ      $C000                ; disable 80-column store
  177 |  3     equ.s     30 | Equivalence | 11 |         |    0 | 00/8000               | STORE80ON            equ      $C001                ; enable 80-column store
  178 |  3     equ.s     31 | Equivalence | 11 |         |    0 | 00/8000               | RAMRDOFF             equ      $C002                ; read main
  179 |  3     equ.s     32 | Equivalence | 11 |         |    0 | 00/8000               | RAMRDON              equ      $C003                ; read aux
  180 |  3     equ.s     33 | Equivalence | 11 |         |    0 | 00/8000               | RAMWRTOFF            equ      $C004                ; write to main
  181 |  3     equ.s     34 | Equivalence | 11 |         |    0 | 00/8000               | RAMWRTON             equ      $C005                ; write to aux
  182 |  3     equ.s     35 | Equivalence | 11 |         |    0 | 00/8000               | ALTCHARSET0FF        equ      $C00E                
  183 |  3     equ.s     36 | Equivalence | 11 |         |    0 | 00/8000               | ALTCHARSET0N         equ      $C00F                
  184 |  3     equ.s     37 | Equivalence | 11 |         |    0 | 00/8000               | kbd                  equ      $C000                ; ascii code of last key pressed (+ 128 if strobe not cleared)
  185 |  3     equ.s     38 | Equivalence | 11 |         |    0 | 00/8000               | kbdstrb              equ      $C010                
  186 |  3     equ.s     39 | Equivalence | 11 |         |    0 | 00/8000               | col80off             equ      $C00C                
  187 |  3     equ.s     40 | Equivalence | 11 |         |    0 | 00/8000               | col80on              equ      $C00D                
  188 |  3     equ.s     41 | Equivalence | 11 |         |    0 | 00/8000               | 80col                equ      $C01F                
  189 |  3     equ.s     42 | Comment     | 11 |         |    0 | 00/8000               | *
  190 |  3     equ.s     43 | Comment     | 11 |         |    0 | 00/8000               | ************ page 0 ************  
  191 |  3     equ.s     44 | Equivalence | 11 |         |    0 | 00/8000               | cv                   equ      $25                  
  192 |  3     equ.s     45 | Equivalence | 11 |         |    0 | 00/8000               | ch                   equ      $24                  
  193 |  3     equ.s     46 | Equivalence | 11 |         |    0 | 00/8000               | basl                 equ      $28                  
  194 |  3     equ.s     47 | Equivalence | 11 |         |    0 | 00/8000               | wndlft               equ      $20                  
  195 |  3     equ.s     48 | Equivalence | 11 |         |    0 | 00/8000               | wndwdth              equ      $21                  
  196 |  3     equ.s     49 | Equivalence | 11 |         |    0 | 00/8000               | wndtop               equ      $22                  ; Top Margin (0 - 23, 0 is default, 20 in graphics mode)
  197 |  3     equ.s     50 | Equivalence | 11 |         |    0 | 00/8000               | wndbtm               equ      $23                  
  198 |  3     equ.s     51 | Equivalence | 11 |         |    0 | 00/8000               | prompt               equ      $33                  
  199 |  3     equ.s     52 | Comment     | 11 |         |    0 | 00/8000               | *
  200 |  3     equ.s     53 | Equivalence | 11 |         |    0 | 00/8000               | ourch                equ      $57B                 ; Cursor's column position minus 1 (HTAB's place) in 80-column mode
  201 |  3     equ.s     54 | Equivalence | 11 |         |    0 | 00/8000               | ourcv                equ      $5FB                 ; 80 col vertical pos
  202 |  3     equ.s     55 | Comment     | 11 |         |    0 | 00/8000               | *
  203 |  3     equ.s     56 | Comment     | 11 |         |    0 | 00/8000               | ************ ProDOS ************ 
  204 |  3     equ.s     57 | Equivalence | 11 |         |    0 | 00/8000               | GETBUFR              equ      $bef5                
  205 |  3     equ.s     58 | Equivalence | 11 |         |    0 | 00/8000               | FREEBUFR             equ      $BEF8                
  206 |  3     equ.s     59 | Equivalence | 11 |         |    0 | 00/8000               | devnum               equ      $BF30                ; last used device here, format : DSSS0000
  207 |  3     equ.s     60 | Equivalence | 11 |         |    0 | 00/8000               | RSHIMEM              equ      $BEFB                
  208 |  3     equ.s     61 | Comment     | 11 |         |    0 | 00/8000               | *
  209 |  3     equ.s     62 | Comment     | 11 |         |    0 | 00/8000               | ************ MLI calls (ProDOS) ************
  210 |  3     equ.s     63 | Equivalence | 11 |         |    0 | 00/8000               | MLI                  equ      $BF00                
  211 |  3     equ.s     64 | Equivalence | 11 |         |    0 | 00/8000               | create               equ      $C0                  
  212 |  3     equ.s     65 | Equivalence | 11 |         |    0 | 00/8000               | destroy              equ      $C1                  
  213 |  3     equ.s     66 | Equivalence | 11 |         |    0 | 00/8000               | online               equ      $C5                  
  214 |  3     equ.s     67 | Equivalence | 11 |         |    0 | 00/8000               | getprefix            equ      $c7                  
  215 |  3     equ.s     68 | Equivalence | 11 |         |    0 | 00/8000               | setprefix            equ      $c6                  
  216 |  3     equ.s     69 | Equivalence | 11 |         |    0 | 00/8000               | open                 equ      $C8                  
  217 |  3     equ.s     70 | Equivalence | 11 |         |    0 | 00/8000               | close                equ      $CC                  
  218 |  3     equ.s     71 | Equivalence | 11 |         |    0 | 00/8000               | read                 equ      $CA                  
  219 |  3     equ.s     72 | Equivalence | 11 |         |    0 | 00/8000               | write                equ      $CB                  
  220 |  3     equ.s     73 | Equivalence | 11 |         |    0 | 00/8000               | setmark              equ      $ce                  
  221 |  3     equ.s     74 | Equivalence | 11 |         |    0 | 00/8000               | geteof               equ      $d1                  
  222 |  3     equ.s     75 | Equivalence | 11 |         |    0 | 00/8000               | quit                 equ      $65                  
  223 |  3     equ.s     76 | Comment     | 11 |         |    0 | 00/8000               | *
  224 |  3     equ.s     77 | Comment     | 11 |         |    0 | 00/8000               | ************ FP routines ************
  225 |  3     equ.s     78 | Equivalence | 11 |         |    0 | 00/8000               | float                equ      $E2F2                ; Converts SIGNED integer in A/Y (high/lo) into FAC
  226 |  3     equ.s     79 | Equivalence | 11 |         |    0 | 00/8000               | GIVAYF               equ      $E2F2                ; idem
  227 |  3     equ.s     80 | Equivalence | 11 |         |    0 | 00/8000               | FLOAT2               equ      $EBA0                ; "Float2" entry point (https://6502disassembly.com/a2-rom/Applesoft.html#SymLDAB7)
  228 |  3     equ.s     81 | Comment     | 11 |         |    0 | 00/8000               |                                 ; Float UNSIGNED value in FAC+1,2 (hi,low)
  229 |  3     equ.s     82 | Comment     | 11 |         |    0 | 00/8000               |                                 ; X-reg = exponent ; C=0 to make value negative, C=1 to make value positive
  230 |  3     equ.s     83 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  231 |  3     equ.s     84 | Equivalence | 11 |         |    0 | 00/8000               | PRNTFAC              equ      $ED2E                ; Prints number in FAC (in decimal format). FAC is destroyed
  232 |  3     equ.s     85 | Equivalence | 11 |         |    0 | 00/8000               | FIN                  equ      $EC4A                ; FAC = expression pointed TXTPTR
  233 |  3     equ.s     86 | Equivalence | 11 |         |    0 | 00/8000               | FNEG                 equ      $EED0                ; FAC = - FAC
  234 |  3     equ.s     87 | Equivalence | 11 |         |    0 | 00/8000               | FABS                 equ      $EBAF                ; FAC = ABS(FAC)
  235 |  3     equ.s     88 | Equivalence | 11 |         |    0 | 00/8000               | F2INT16              equ      $E752                ; FAC to 16 bits int in A/Y and $50/51 (low/high)
  236 |  3     equ.s     89 | Equivalence | 11 |         |    0 | 00/8000               | FADD                 equ      $E7BE                ; FAC = FAC + ARG
  237 |  3     equ.s     90 | Equivalence | 11 |         |    0 | 00/8000               | FSUBT                equ      $E7AA                ; FAC = FAC - ARG
  238 |  3     equ.s     91 | Equivalence | 11 |         |    0 | 00/8000               | FMULT                equ      $E97F                ; Move the number pointed by Y,A into ARG and fall into FMULTT
  239 |  3     equ.s     92 | Equivalence | 11 |         |    0 | 00/8000               | FMULTT               equ      $E982                ; FAC = FAC x ARG
  240 |  3     equ.s     93 | Equivalence | 11 |         |    0 | 00/8000               | FDIVT                equ      $EA69                ; FAC = FAC / ARG
  241 |  3     equ.s     94 | Equivalence | 11 |         |    0 | 00/8000               | RND                  equ      $EFAE                ; FAC = random number
  242 |  3     equ.s     95 | Equivalence | 11 |         |    0 | 00/8000               | FOUT                 equ      $ED34                ; Create a string at the start of the stack ($100−$110)
  243 |  3     equ.s     96 | Equivalence | 11 |         |    0 | 00/8000               | MOVAF                equ      $EB63                ; Move FAC into ARG. On exit A=FACEXP and Z is set
  244 |  3     equ.s     97 | Equivalence | 11 |         |    0 | 00/8000               | CONINT               equ      $E6FB                ; Convert FAC into a single byte number in X and FACLO
  245 |  3     equ.s     98 | Equivalence | 11 |         |    0 | 00/8000               | YTOFAC               equ      $E301                ; Float y
  246 |  3     equ.s     99 | Equivalence | 11 |         |    0 | 00/8000               | MOVMF                equ      $EB2B                ; Routine to pack FP number. Address of destination must be in Y
  247 |  3     equ.s    100 | Comment     | 11 |         |    0 | 00/8000               |                                 ; (high) and X (low). Result is packed from FAC                             
  248 |  3     equ.s    101 | Equivalence | 11 |         |    0 | 00/8000               | QUINT                equ      $EBF2                ; convert fac to 16bit INT at $A0 and $A1 (fac+3/fac+4)
  249 |  3     equ.s    102 | Equivalence | 11 |         |    0 | 00/8000               | STROUT               equ      $DB3A                ;
  250 |  3     equ.s    103 | Equivalence | 11 |         |    0 | 00/8000               | LINPRT               equ      $ED24                ; Converts the unsigned hexadecimal number in X (low) and A (high) into a decimal number and displays it.
  251 |  3     equ.s    104 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  252 |  3     equ.s    105 | Comment     | 11 |         |    0 | 00/8000               | * A intégrer :
  253 |  3     equ.s    106 | Comment     | 11 |         |    0 | 00/8000               | *FSUB = $E7A7    OVERFLOW = $E8D5        ONE = $E913        FLOG = $E941    CONUPK = $E9E3  MUL10 = $EA39 
  254 |  3     equ.s    107 | Comment     | 11 |         |    0 | 00/8000               | * FDIV = $EA66        DIVERR = $EAE1        MOVFM = $EAF9    FLOAT = $EB93        FCOMP = $EBB2      
  255 |  3     equ.s    108 | Comment     | 11 |         |    0 | 00/8000               | * FINT = $EC23   SQR = $EE8D        FPWRT = $EE9    FEXP = $EF09      FCOS = $EFEA    FSIN = $EFF1  FTAN = $F03A 
  256 |  3     equ.s    109 | Comment     | 11 |         |    0 | 00/8000               | * PIHALF = $F066   FATN = $F09E        
  257 |  3     equ.s    110 | Comment     | 11 |         |    0 | 00/8000               | *
  258 |  3     equ.s    111 | Comment     | 11 |         |    0 | 00/8000               | ************ Applesoft BASIC ************
  259 |  3     equ.s    112 | Equivalence | 11 |         |    0 | 00/8000               | TXTTAB               equ      $67                  ; $67/$68 address of beginning of BASIC Program ($0801 is default)
  260 |  3     equ.s    113 | Equivalence | 11 |         |    0 | 00/8000               | PRGEND               equ      $AF                  ; $AF/$B0 address of end of Applesoft program plus 1 or 2 of BASIC
  261 |  3     equ.s    114 | Equivalence | 11 |         |    0 | 00/8000               | VARTAB               equ      $69                  ; $69/$6A address of beginning of simple variables, just after Basic prog. (unless modified by LOMEN)
  262 |  3     equ.s    115 | Equivalence | 11 |         |    0 | 00/8000               | ARYTAB               equ      $6B                  ; $6B/$6C addresse of beginning of array variables, just after simple variables
  263 |  3     equ.s    116 | Equivalence | 11 |         |    0 | 00/8000               | STREND               equ      $6D                  ; $6D/$6E addresse of end of array variables
  264 |  3     equ.s    117 | Equivalence | 11 |         |    0 | 00/8000               | MEMSIZ               equ      $73                  ; $73/$74 : top of string data, set by HIMEM: (usually $9600),
  265 |  3     equ.s    118 | Equivalence | 11 |         |    0 | 00/8000               | FRETOP               equ      $6F                  ; $6F/$70 bottom of string data, growing downwards
  266 |  3     equ.s    119 | Equivalence | 11 |         |    0 | 00/8000               | CHRGOT               equ      $B7                  ; get char pointed by TXTPTR in A
  267 |  3     equ.s    120 | Equivalence | 11 |         |    0 | 00/8000               | CHRGET               equ      $B1                  ; advance TXTPRT and read char
  268 |  3     equ.s    121 | Equivalence | 11 |         |    0 | 00/8000               | TXTPTR               equ      $B8                  ; pointer $B8/$B9 used in chrget and chrgot
  269 |  3     equ.s    122 | Equivalence | 11 |         |    0 | 00/8000               | CHKCOM               equ      $DEBE                ; check for comma and move TXTPTR forward
  270 |  3     equ.s    123 | Equivalence | 11 |         |    0 | 00/8000               | FRMNUM               equ      $DD67                ; eval num. value, variable, expression pointed by TXTPTR, advance TXTPTR
  271 |  3     equ.s    124 | Equivalence | 11 |         |    0 | 00/8000               | GETADR               equ      $E752                ; convert FAC to integer (to Y,A)
  272 |  3     equ.s    125 | Equivalence | 11 |         |    0 | 00/8000               | FRMEVL               equ      $DD7B                ; evaluate any expression, result in FAC.
  273 |  3     equ.s    126 | Equivalence | 11 |         |    0 | 00/8000               | FRESTR               equ      $E5FD                ; check if epression is a string. A = length, pointer in $5E/$5F
  274 |  3     equ.s    127 | Equivalence | 11 |         |    0 | 00/8000               | ERRDIR               equ      $E306                ; illegal direct if not running
  275 |  3     equ.s    128 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  276 |  3     equ.s    129 | Equivalence | 11 |         |    0 | 00/8000               | PTRGET               equ      $DFE3                ; On entry, TXTPTR must be pointing to the first character of the variable's name.
  277 |  3     equ.s    130 | Comment     | 11 |         |    0 | 00/8000               | * finds an Applesoft variable's memory address and puts a pointer to it in VARPNT ($83-$84) and in A/Y (low/hi). 
  278 |  3     equ.s    131 | Comment     | 11 |         |    0 | 00/8000               | * The variable's name is left in VARNAM ($81-$82). It will work with any type of variable (integer, array element, string..)
  279 |  3     equ.s    132 | Comment     | 11 |         |    0 | 00/8000               | * If the variable does not already exist, PTRGET will create it for you
  280 |  3     equ.s    133 | Comment     | 11 |         |    0 | 00/8000               | * Advances TXTPTR.
  281 |  3     equ.s    134 | Comment     | 11 |         |    0 | 00/8000               | * Set : vartype equ $11 ; str$=$ff, num=$00 
  282 |  3     equ.s    135 | Comment     | 11 |         |    0 | 00/8000               | * set : numtype equ $12 ; int =$80, real = $00
  283 |  3     equ.s    136 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  284 |  3     equ.s    137 | Equivalence | 11 |         |    0 | 00/8000               | CHKNUM               equ      $DD6A                ; verifies that the most recent var found by PTRGET was numeric.
  285 |  3     equ.s    138 | Comment     | 11 |         |    0 | 00/8000               |  *  https://www.brutaldeluxe.fr/documentation/thesourcerorsapprentice/thesourcerorsapprentice_v1n1.pdf
  286 |  3     equ.s    139 | Comment     | 11 |         |    0 | 00/8000               |  * Type mismatch error if var not numeric
  287 |  3     equ.s    140 | Empty       | 11 |         |    0 | 00/8000               |                                                    
  288 |  1 asmdemo.s     33 | Comment     | 11 |         |    0 | 00/8000               | *<sym>
  289 |  1 asmdemo.s     34 | Equivalence | 11 |         |    0 | 00/8000               | MyBuffer             equ      $8000                ; starting address of storage for MyPort grafport
  290 |  1 asmdemo.s     35 | Comment     | 11 |         |    0 | 00/8000               | *<sym>
  291 |  1 asmdemo.s     36 | Equivalence | 11 |         |    0 | 00/8000               | TestFont             equ      $800                 ; loading address of "TEST.FONT" file
  292 |  1 asmdemo.s     37 | Comment     | 11 |         |    0 | 00/8000               | *<sym>
  293 |  1 asmdemo.s     38 | Equivalence | 11 |         |    0 | 00/8000               | ptr                  equ      $06                  
  294 |  1 asmdemo.s     39 | Comment     | 11 |         |    0 | 00/8000               | *
  295 |  1 asmdemo.s     40 | Comment     | 11 |         |    0 | 00/8000               | **************************** MAIN PROGRAM ****************************
  296 |  1 asmdemo.s     41 | Comment     | 11 |         |    0 | 00/8000               | *
  297 |  1 asmdemo.s     42 | Directive   | 11 |         |    0 | 00/8000               |                      org      $E00                 
  298 |  1 asmdemo.s     43 | Empty       | 11 |         |    0 | 00/0E00               |                                                    
  299 |  1 asmdemo.s     44 | Code        | 11 |         |    2 | 00/0E00 : A9 04       |                      lda      #4                   
  300 |  1 asmdemo.s     45 | Code        | 11 |         |    3 | 00/0E02 : 20 F5 BE    |                      jsr      {$bef5}              
  301 |  1 asmdemo.s     46 | Code        | 11 |         |    2 | 00/0E05 : 90 03       |                      bcc      GetbufOK             
  302 |  1 asmdemo.s     47 | Code        | 11 |         |    3 | 00/0E07 : 4C 04 0F    |                      jmp      dataerr              
  303 |  1 asmdemo.s     48 | Empty       | 11 |         |    0 | 00/0E0A               |                                                    
  304 |  1 asmdemo.s     49 | Comment     | 11 |         |    0 | 00/0E0A               | *<sym>
  305 |  1 asmdemo.s     50 | Empty       | 11 |         |    0 | 00/0E0A               | GetbufOK                                           
  306 |  1 asmdemo.s     51 | Code        | 11 |         |    3 | 00/0E0A : 8D 49 15    |                      sta      fbuff+1              
  307 |  1 asmdemo.s     52 | Code        | 11 |         |    3 | 00/0E0D : 20 F0 14    |                      jsr      doprefix             
  308 |  1 asmdemo.s     53 | Code        | 11 |         |    2 | 00/0E10 : 90 03       |                      bcc      doprefixOK           
  309 |  1 asmdemo.s     54 | Code        | 11 |         |    3 | 00/0E12 : 4C 04 0F    |                      jmp      dataerr              
  310 |  1 asmdemo.s     55 | Comment     | 11 |         |    0 | 00/0E15               | *<sym>
  311 |  1 asmdemo.s     56 | Empty       | 11 |         |    0 | 00/0E15               | doprefixOK                                         
  312 |  1 asmdemo.s     57 | Empty       | 11 |         |    0 | 00/0E15               |                                                    
  313 |  1 asmdemo.s     58 | Code        | 11 |         |    3 | 00/0E15 : 20 24 14    |                      jsr      openBMP              
  314 |  1 asmdemo.s     59 | Code        | 11 |         |    2 | 00/0E18 : 90 03       |                      bcc      BMPok                
  315 |  1 asmdemo.s     60 | Code        | 11 |         |    3 | 00/0E1A : 4C 04 0F    |                      jmp      dataerr              ; exit with error
  316 |  1 asmdemo.s     61 | Comment     | 11 |         |    0 | 00/0E1D               | *<sym>
  317 |  1 asmdemo.s     62 | Empty       | 11 |         |    0 | 00/0E1D               | BMPok                                              
  318 |  1 asmdemo.s     63 | Code        | 11 |         |    3 | 00/0E1D : 20 4E 0E    |                      jsr      DoHeader             
  319 |  1 asmdemo.s     64 | Code        | 11 |         |    2 | 00/0E20 : 90 03       |                      bcc      headerOK             ; exit on error if carry set
  320 |  1 asmdemo.s     65 | Code        | 11 |         |    3 | 00/0E22 : 4C 04 0F    |                      jmp      dataerr              ; exit with error
  321 |  1 asmdemo.s     66 | Comment     | 11 |         |    0 | 00/0E25               | *<sym>
  322 |  1 asmdemo.s     67 | Empty       | 11 |         |    0 | 00/0E25               | headerOK                                           
  323 |  1 asmdemo.s     68 | Macro       | 11 |         |    0 | 00/0E25               |                      GP_call  {1};0                ; go dhgr
  324 |  1 asmdemo.s     68 | Code        | 11 |         |    3 | 00/0E25 : 20 00 40    |                      jsr      {$4000}              ; graphic primitives only entry point
  325 |  1 asmdemo.s     68 | Data        | 11 |         |    1 | 00/0E28 : 01          |                      dfb      {1}                  ; command ID (1 byte)
  326 |  1 asmdemo.s     68 | Data        | 11 |         |    2 | 00/0E29 : 00 00       |                      da       0                    ; address of parameter(s) (2 bytes), 0 if no paramter
  327 |  1 asmdemo.s     69 | Macro       | 11 |         |    0 | 00/0E2B               |                      GP_call  {{{1}+1}+1};MyPort   
  328 |  1 asmdemo.s     69 | Code        | 11 |         |    3 | 00/0E2B : 20 00 40    |                      jsr      {$4000}              ; graphic primitives only entry point
  329 |  1 asmdemo.s     69 | Data        | 11 |         |    1 | 00/0E2E : 03          |                      dfb      {{{1}+1}+1}          ; command ID (1 byte)
  330 |  1 asmdemo.s     69 | Data        | 11 |         |    2 | 00/0E2F : 2E 13       |                      da       MyPort               ; address of parameter(s) (2 bytes), 0 if no paramter
  331 |  1 asmdemo.s     70 | Macro       | 11 |         |    0 | 00/0E31               |                      GP_call  {{{{1}+1}+1}+1};MyPort
  332 |  1 asmdemo.s     70 | Code        | 11 |         |    3 | 00/0E31 : 20 00 40    |                      jsr      {$4000}              ; graphic primitives only entry point
  333 |  1 asmdemo.s     70 | Data        | 11 |         |    1 | 00/0E34 : 04          |                      dfb      {{{{1}+1}+1}+1}      ; command ID (1 byte)
  334 |  1 asmdemo.s     70 | Data        | 11 |         |    2 | 00/0E35 : 2E 13       |                      da       MyPort               ; address of parameter(s) (2 bytes), 0 if no paramter
  335 |  1 asmdemo.s     71 | Comment     | 11 |         |    0 | 00/0E37               | *<sym>
  336 |  1 asmdemo.s     72 | Empty       | 11 |         |    0 | 00/0E37               | startimage                                         
  337 |  1 asmdemo.s     73 | Code        | 11 |         |    3 | 00/0E37 : 20 9B 0F    |                      jsr      Doimg                ; display image
  338 |  1 asmdemo.s     74 | Comment     | 11 |         |    0 | 00/0E3A               |                 ;jsr DoPaint
  339 |  1 asmdemo.s     75 | Code        | 11 |         |    2 | 00/0E3A : A9 00       |                      lda      #0                   ; init quif flag
  340 |  1 asmdemo.s     76 | Code        | 11 |         |    3 | 00/0E3C : 8D 38 0F    |                      sta      quitflag             
  341 |  1 asmdemo.s     77 | Code        | 11 |         |    3 | 00/0E3F : 20 DC 11    |                      jsr      WaitForKeyPress      ;
  342 |  1 asmdemo.s     78 | Code        | 11 |         |    3 | 00/0E42 : 20 FC 10    |                      jsr      DoKey                ; process key
  343 |  1 asmdemo.s     79 | Code        | 11 |         |    3 | 00/0E45 : AD 38 0F    |                      lda      quitflag             ; test quit flage
  344 |  1 asmdemo.s     80 | Code        | 11 |         |    2 | 00/0E48 : F0 ED       |                      beq      startimage           ; if 0, loop
  345 |  1 asmdemo.s     81 | Code        | 11 |         |    3 | 00/0E4A : 20 80 14    |                      jsr      DoTextScreen         ; else set text screen
  346 |  1 asmdemo.s     82 | Code        | 11 |         |    1 | 00/0E4D : 60          |                      rts                           ; END OF PROGRAM (without error)
  347 |  1 asmdemo.s     83 | Comment     | 11 |         |    0 | 00/0E4E               | *
  348 |  1 asmdemo.s     84 | Comment     | 11 |         |    0 | 00/0E4E               | *********************************************************************
  349 |  1 asmdemo.s     85 | Comment     | 11 |         |    0 | 00/0E4E               | *
  350 |  1 asmdemo.s     86 | Comment     | 11 |         |    0 | 00/0E4E               | *<sym>
  351 |  1 asmdemo.s     87 | Empty       | 11 |         |    0 | 00/0E4E               | DoHeader                                           
  352 |  1 asmdemo.s     88 | Comment     | 11 |         |    0 | 00/0E4E               | * check image specs.
  353 |  1 asmdemo.s     89 | Code        | 11 |         |    3 | 00/0E4E : 20 F2 0E    |                      jsr      TestSignature        ; test BMP signature
  354 |  1 asmdemo.s     90 | Code        | 11 |         |    2 | 00/0E51 : 90 01       |                      bcc      oksign               ; exit on error if carry set
  355 |  1 asmdemo.s     91 | Code        | 11 |         |    1 | 00/0E53 : 60          |                      rts                           
  356 |  1 asmdemo.s     92 | Comment     | 11 |         |    0 | 00/0E54               | *<sym>
  357 |  1 asmdemo.s     93 | Empty       | 11 |         |    0 | 00/0E54               | oksign                                             
  358 |  1 asmdemo.s     94 | Comment     | 11 |         |    0 | 00/0E54               | * get file length
  359 |  1 asmdemo.s     95 | Code        | 11 |         |    2 | 00/0E54 : A2 02       |                      ldx      #2                   ; offset to file length in BMP header
  360 |  1 asmdemo.s     96 | Code        | 11 |         |    3 | 00/0E56 : BD 00 60    |                      lda      {$6000},x            
  361 |  1 asmdemo.s     97 | Code        | 11 |         |    3 | 00/0E59 : 8D E8 0E    |                      sta      filelen              
  362 |  1 asmdemo.s     98 | Code        | 11 |         |    1 | 00/0E5C : E8          |                      inx                           
  363 |  1 asmdemo.s     99 | Code        | 11 |         |    3 | 00/0E5D : BD 00 60    |                      lda      {$6000},x            
  364 |  1 asmdemo.s    100 | Code        | 11 |         |    3 | 00/0E60 : 8D E9 0E    |                      sta      filelen+1            
  365 |  1 asmdemo.s    101 | Comment     | 11 |         |    0 | 00/0E63               | * check file length
  366 |  1 asmdemo.s    102 | Code        | 11 |         |    3 | 00/0E63 : AD E9 0E    |                      lda      filelen+1            
  367 |  1 asmdemo.s    103 | Code        | 11 |         |    2 | 00/0E66 : C9 20       |                      cmp      #>{$2000}            
  368 |  1 asmdemo.s    104 | Code        | 11 |         |    2 | 00/0E68 : D0 05       |                      bne      ozunid_1             
  369 |  1 asmdemo.s    105 | Code        | 11 |         |    3 | 00/0E6A : AD E8 0E    |                      lda      filelen              
  370 |  1 asmdemo.s    106 | Code        | 11 |         |    2 | 00/0E6D : C9 00       |                      cmp      #<{$2000}            
  371 |  1 asmdemo.s    107 | Code        | 11 |         |    2 | 00/0E6F : 90 06       | ozunid_1             bcc      lower                
  372 |  1 asmdemo.s    108 | Code        | 11 |         |    2 | 00/0E71 : D0 02       |                      bne      higher               
  373 |  1 asmdemo.s    109 | Code        | 11 |         |    2 | 00/0E73 : F0 02       |                      beq      samelength           
  374 |  1 asmdemo.s    110 | Comment     | 11 |         |    0 | 00/0E75               | *<sym>
  375 |  1 asmdemo.s    111 | Empty       | 11 |         |    0 | 00/0E75               | higher                                             
  376 |  1 asmdemo.s    112 | Code        | 11 |         |    1 | 00/0E75 : 38          |                      sec                           ; size is too big
  377 |  1 asmdemo.s    113 | Code        | 11 |         |    1 | 00/0E76 : 60          |                      rts                           
  378 |  1 asmdemo.s    114 | Comment     | 11 |         |    0 | 00/0E77               | *<sym>
  379 |  1 asmdemo.s    115 | Empty       | 11 |         |    0 | 00/0E77               | samelength                                         ; file length = max : OK
  380 |  1 asmdemo.s    116 | Comment     | 11 |         |    0 | 00/0E77               | *<sym>
  381 |  1 asmdemo.s    117 | Empty       | 11 |         |    0 | 00/0E77               | lower                                              ; file length < max : OK
  382 |  1 asmdemo.s    118 | Code        | 11 |         |    2 | 00/0E77 : A2 12       |                      ldx      #$12                 ; get image width in BMP header
  383 |  1 asmdemo.s    119 | Code        | 11 |         |    3 | 00/0E79 : BD 00 60    |                      lda      {$6000},x            
  384 |  1 asmdemo.s    120 | Code        | 11 |         |    3 | 00/0E7C : 8D EA 0E    |                      sta      hdef                 
  385 |  1 asmdemo.s    121 | Code        | 11 |         |    1 | 00/0E7F : E8          |                      inx                           
  386 |  1 asmdemo.s    122 | Code        | 11 |         |    3 | 00/0E80 : BD 00 60    |                      lda      {$6000},x            
  387 |  1 asmdemo.s    123 | Code        | 11 |         |    3 | 00/0E83 : 8D EB 0E    |                      sta      hdef+1               
  388 |  1 asmdemo.s    124 | Code        | 11 |         |    2 | 00/0E86 : A2 16       |                      ldx      #$16                 ; get image height in BMP header
  389 |  1 asmdemo.s    125 | Code        | 11 |         |    3 | 00/0E88 : BD 00 60    |                      lda      {$6000},x            
  390 |  1 asmdemo.s    126 | Code        | 11 |         |    3 | 00/0E8B : 8D EC 0E    |                      sta      vdef                 
  391 |  1 asmdemo.s    127 | Code        | 11 |         |    1 | 00/0E8E : E8          |                      inx                           
  392 |  1 asmdemo.s    128 | Code        | 11 |         |    3 | 00/0E8F : BD 00 60    |                      lda      {$6000},x            
  393 |  1 asmdemo.s    129 | Code        | 11 |         |    3 | 00/0E92 : 8D ED 0E    |                      sta      vdef+1               
  394 |  1 asmdemo.s    130 | Empty       | 11 |         |    0 | 00/0E95               |                                                    
  395 |  1 asmdemo.s    131 | Code        | 11 |         |    3 | 00/0E95 : AD EB 0E    |                      lda      hdef+1               ; width must be <= maxwidth
  396 |  1 asmdemo.s    132 | Empty       | 11 |         |    0 | 00/0E98               |                                                    
  397 |  1 asmdemo.s    133 | Code        | 11 |         |    2 | 00/0E98 : C9 01       |                      cmp      #>{280}              
  398 |  1 asmdemo.s    134 | Code        | 11 |         |    2 | 00/0E9A : D0 05       |                      bne      ozunid_2             
  399 |  1 asmdemo.s    135 | Code        | 11 |         |    3 | 00/0E9C : AD EA 0E    |                      lda      hdef                 
  400 |  1 asmdemo.s    136 | Code        | 11 |         |    2 | 00/0E9F : C9 18       |                      cmp      #<{280}              
  401 |  1 asmdemo.s    137 | Code        | 11 |         |    2 | 00/0EA1 : 90 06       | ozunid_2             bcc      goodw                
  402 |  1 asmdemo.s    138 | Code        | 11 |         |    2 | 00/0EA3 : D0 02       |                      bne      badw                 
  403 |  1 asmdemo.s    139 | Code        | 11 |         |    2 | 00/0EA5 : F0 02       |                      beq      goodw                
  404 |  1 asmdemo.s    140 | Comment     | 11 |         |    0 | 00/0EA7               | *<sym>
  405 |  1 asmdemo.s    141 | Empty       | 11 |         |    0 | 00/0EA7               | badw                                               
  406 |  1 asmdemo.s    142 | Code        | 11 |         |    1 | 00/0EA7 : 38          |                      sec                           ; width is too large
  407 |  1 asmdemo.s    143 | Code        | 11 |         |    1 | 00/0EA8 : 60          |                      rts                           
  408 |  1 asmdemo.s    144 | Comment     | 11 |         |    0 | 00/0EA9               | *<sym>
  409 |  1 asmdemo.s    145 | Empty       | 11 |         |    0 | 00/0EA9               | goodw                                              
  410 |  1 asmdemo.s    146 | Code        | 11 |         |    3 | 00/0EA9 : AD ED 0E    |                      lda      vdef+1               ; height must be <= maxheight
  411 |  1 asmdemo.s    147 | Code        | 11 |         |    2 | 00/0EAC : C9 00       |                      cmp      #>{192}              
  412 |  1 asmdemo.s    148 | Code        | 11 |         |    2 | 00/0EAE : D0 05       |                      bne      ozunid_3             
  413 |  1 asmdemo.s    149 | Code        | 11 |         |    3 | 00/0EB0 : AD EC 0E    |                      lda      vdef                 
  414 |  1 asmdemo.s    150 | Code        | 11 |         |    2 | 00/0EB3 : C9 C0       |                      cmp      #<{192}              
  415 |  1 asmdemo.s    151 | Code        | 11 |         |    2 | 00/0EB5 : 90 04       | ozunid_3             bcc      goodh                
  416 |  1 asmdemo.s    152 | Code        | 11 |         |    2 | 00/0EB7 : D0 EE       |                      bne      badw                 
  417 |  1 asmdemo.s    153 | Code        | 11 |         |    2 | 00/0EB9 : F0 00       |                      beq      goodh                
  418 |  1 asmdemo.s    154 | Comment     | 11 |         |    0 | 00/0EBB               | *<sym>
  419 |  1 asmdemo.s    155 | Empty       | 11 |         |    0 | 00/0EBB               | goodh                                              
  420 |  1 asmdemo.s    156 | Code        | 11 |         |    2 | 00/0EBB : A2 1C       |                      ldx      #$1C                 ; offset to image depth (# of bits per pixel)
  421 |  1 asmdemo.s    157 | Code        | 11 |         |    3 | 00/0EBD : BD 00 60    |                      lda      {$6000},x            ; get value
  422 |  1 asmdemo.s    158 | Code        | 11 |         |    2 | 00/0EC0 : C9 01       |                      cmp      #1                   ; must be 1
  423 |  1 asmdemo.s    159 | Code        | 11 |         |    2 | 00/0EC2 : F0 02       |                      beq      gooddepth            
  424 |  1 asmdemo.s    160 | Code        | 11 |         |    1 | 00/0EC4 : 38          |                      sec                           ; <> 1 bit per pixel
  425 |  1 asmdemo.s    161 | Code        | 11 |         |    1 | 00/0EC5 : 60          |                      rts                           
  426 |  1 asmdemo.s    162 | Comment     | 11 |         |    0 | 00/0EC6               | *<sym>
  427 |  1 asmdemo.s    163 | Empty       | 11 |         |    0 | 00/0EC6               | gooddepth                                          
  428 |  1 asmdemo.s    164 | Code        | 11 |         |    2 | 00/0EC6 : A2 0A       |                      ldx      #$A                  ; get image offset in BMP header
  429 |  1 asmdemo.s    165 | Comment     | 11 |         |    0 | 00/0EC8               |                                         ; image data start @ bmp+imgoffset
  430 |  1 asmdemo.s    166 | Code        | 11 |         |    3 | 00/0EC8 : BD 00 60    |                      lda      {$6000},x            
  431 |  1 asmdemo.s    167 | Code        | 11 |         |    3 | 00/0ECB : 8D EE 0E    |                      sta      imgoffset            
  432 |  1 asmdemo.s    168 | Code        | 11 |         |    1 | 00/0ECE : E8          |                      inx                           
  433 |  1 asmdemo.s    169 | Code        | 11 |         |    3 | 00/0ECF : BD 00 60    |                      lda      {$6000},x            
  434 |  1 asmdemo.s    170 | Code        | 11 |         |    3 | 00/0ED2 : 8D EF 0E    |                      sta      imgoffset+1          
  435 |  1 asmdemo.s    171 | Empty       | 11 |         |    0 | 00/0ED5               |                                                    
  436 |  1 asmdemo.s    172 | Code        | 11 |         |    2 | 00/0ED5 : A9 00       |                      lda      #<{$6000}            ; set pointer to beginning of image data
  437 |  1 asmdemo.s    173 | Code        | 11 |         |    1 | 00/0ED7 : 18          |                      clc                           
  438 |  1 asmdemo.s    174 | Code        | 11 |         |    3 | 00/0ED8 : 6D EE 0E    |                      adc      imgoffset            
  439 |  1 asmdemo.s    175 | Code        | 11 |         |    3 | 00/0EDB : 8D F0 0E    |                      sta      imgdata              
  440 |  1 asmdemo.s    176 | Code        | 11 |         |    2 | 00/0EDE : A9 60       |                      lda      #>{$6000}            
  441 |  1 asmdemo.s    177 | Code        | 11 |         |    3 | 00/0EE0 : 6D EF 0E    |                      adc      imgoffset+1          
  442 |  1 asmdemo.s    178 | Code        | 11 |         |    3 | 00/0EE3 : 8D F1 0E    |                      sta      imgdata+1            
  443 |  1 asmdemo.s    179 | Code        | 11 |         |    1 | 00/0EE6 : 18          |                      clc                           
  444 |  1 asmdemo.s    180 | Code        | 11 |         |    1 | 00/0EE7 : 60          |                      rts                           
  445 |  1 asmdemo.s    181 | Comment     | 11 |         |    0 | 00/0EE8               | *<sym>
  446 |  1 asmdemo.s    182 | Data        | 11 |         |    2 | 00/0EE8 : 00 00       | filelen              ds       2                    
  447 |  1 asmdemo.s    183 | Comment     | 11 |         |    0 | 00/0EEA               | *<syme>
  448 |  1 asmdemo.s    184 | Equivalence | 11 |         |    0 | 00/0EEA               | maxlen               equ      $2000                ; 8 k for image (between $6000 and $7FFF)
  449 |  1 asmdemo.s    185 | Comment     | 11 |         |    0 | 00/0EEA               | *<syme>
  450 |  1 asmdemo.s    186 | Equivalence | 11 |         |    0 | 00/0EEA               | maxwidth             equ      280                  ; = 560 / 2 (each pixel is doubled in width)
  451 |  1 asmdemo.s    187 | Comment     | 11 |         |    0 | 00/0EEA               | *<syme>
  452 |  1 asmdemo.s    188 | Equivalence | 11 |         |    0 | 00/0EEA               | maxheight            equ      192                  ; screen height in pixels
  453 |  1 asmdemo.s    189 | Comment     | 11 |         |    0 | 00/0EEA               | *<sym>
  454 |  1 asmdemo.s    190 | Data        | 11 |         |    2 | 00/0EEA : 00 00       | hdef                 ds       2                    ; image width
  455 |  1 asmdemo.s    191 | Comment     | 11 |         |    0 | 00/0EEC               | *<sym>
  456 |  1 asmdemo.s    192 | Data        | 11 |         |    2 | 00/0EEC : 00 00       | vdef                 ds       2                    ; image height
  457 |  1 asmdemo.s    193 | Comment     | 11 |         |    0 | 00/0EEE               | *<sym>
  458 |  1 asmdemo.s    194 | Data        | 11 |         |    2 | 00/0EEE : 00 00       | imgoffset            ds       2                    ; offset to image data (over BMP header)
  459 |  1 asmdemo.s    195 | Comment     | 11 |         |    0 | 00/0EF0               | *<sym>
  460 |  1 asmdemo.s    196 | Empty       | 11 |         |    0 | 00/0EF0               | imgdata                                            
  461 |  1 asmdemo.s    197 | Data        | 11 |         |    2 | 00/0EF0 : 00 00       |                      ds       2                    ; address of image data
  462 |  1 asmdemo.s    198 | Comment     | 11 |         |    0 | 00/0EF2               | *
  463 |  1 asmdemo.s    199 | Comment     | 11 |         |    0 | 00/0EF2               | *
  464 |  1 asmdemo.s    200 | Comment     | 11 |         |    0 | 00/0EF2               | *<sym>
  465 |  1 asmdemo.s    201 | Empty       | 11 |         |    0 | 00/0EF2               | TestSignature                                      
  466 |  1 asmdemo.s    202 | Code        | 11 |         |    3 | 00/0EF2 : AD 00 60    |                      lda      {$6000}              ; test signature
  467 |  1 asmdemo.s    203 | Code        | 11 |         |    2 | 00/0EF5 : C9 42       |                      cmp      #'B'                 
  468 |  1 asmdemo.s    204 | Code        | 11 |         |    2 | 00/0EF7 : D0 07       |                      bne      errSign              
  469 |  1 asmdemo.s    205 | Code        | 11 |         |    3 | 00/0EF9 : AD 01 60    |                      lda      {$6000}+1            
  470 |  1 asmdemo.s    206 | Code        | 11 |         |    2 | 00/0EFC : C9 4D       |                      cmp      #'M'                 
  471 |  1 asmdemo.s    207 | Code        | 11 |         |    2 | 00/0EFE : F0 02       |                      beq      signatureOK          
  472 |  1 asmdemo.s    208 | Comment     | 11 |         |    0 | 00/0F00               | *<sym>
  473 |  1 asmdemo.s    209 | Code        | 11 |         |    1 | 00/0F00 : 38          | errSign              sec                           
  474 |  1 asmdemo.s    210 | Code        | 11 |         |    1 | 00/0F01 : 60          |                      rts                           
  475 |  1 asmdemo.s    211 | Comment     | 11 |         |    0 | 00/0F02               | *<sym>
  476 |  1 asmdemo.s    212 | Code        | 11 |         |    1 | 00/0F02 : 18          | signatureOK          clc                           
  477 |  1 asmdemo.s    213 | Code        | 11 |         |    1 | 00/0F03 : 60          |                      rts                           
  478 |  1 asmdemo.s    214 | Empty       | 11 |         |    0 | 00/0F04               |                                                    
  479 |  1 asmdemo.s    215 | Comment     | 11 |         |    0 | 00/0F04               | * * * * Exit with an error * * * * 
  480 |  1 asmdemo.s    216 | Comment     | 11 |         |    0 | 00/0F04               | *<sym>
  481 |  1 asmdemo.s    217 | Code        | 11 |         |    3 | 00/0F04 : 20 80 14    | dataerr              jsr      DoTextScreen         ; bad signature
  482 |  1 asmdemo.s    218 | Code        | 11 |         |    2 | 00/0F07 : A2 00       |                      ldx      #0                   
  483 |  1 asmdemo.s    219 | Comment     | 11 |         |    0 | 00/0F09               | *<sym>
  484 |  1 asmdemo.s    220 | Code        | 11 |         |    3 | 00/0F09 : BD 19 0F    | printchar            lda      errmsg,x             
  485 |  1 asmdemo.s    221 | Code        | 11 |         |    2 | 00/0F0C : F0 07       |                      beq      errend               
  486 |  1 asmdemo.s    222 | Code        | 11 |         |    3 | 00/0F0E : 20 ED FD    |                      jsr      {$FDED}              
  487 |  1 asmdemo.s    223 | Code        | 11 |         |    1 | 00/0F11 : E8          |                      inx                           
  488 |  1 asmdemo.s    224 | Code        | 11 |         |    3 | 00/0F12 : 4C 09 0F    |                      jmp      printchar            
  489 |  1 asmdemo.s    225 | Comment     | 11 |         |    0 | 00/0F15               | *<sym>
  490 |  1 asmdemo.s    226 | Code        | 11 |         |    3 | 00/0F15 : 20 8E FD    | errend               jsr      {$FD8E}              
  491 |  1 asmdemo.s    227 | Code        | 11 |         |    1 | 00/0F18 : 60          |                      rts                           
  492 |  1 asmdemo.s    228 | Comment     | 11 |         |    0 | 00/0F19               | * * * * * * * * * * * * * * * * *
  493 |  1 asmdemo.s    229 | Empty       | 11 |         |    0 | 00/0F19               |                                                    
  494 |  1 asmdemo.s    230 | Comment     | 11 |         |    0 | 00/0F19               | *<sym>
  495 |  1 asmdemo.s    231 | Data        | 11 |         |    7 | 00/0F19 : C5 F2 F2 EF | errmsg               asc      "Error !"            
      |                     |             |    |         |      |           F2 A0 A1    |
  496 |  1 asmdemo.s    232 | Data        | 11 |         |    1 | 00/0F20 : 00          |                      dfb      0                    
  497 |  1 asmdemo.s    233 | Comment     | 11 |         |    0 | 00/0F21               | *
  498 |  1 asmdemo.s    234 | Comment     | 11 |         |    0 | 00/0F21               | * Doimg
  499 |  1 asmdemo.s    235 | Comment     | 11 |         |    0 | 00/0F21               | * lopp on each line
  500 |  1 asmdemo.s    236 | Comment     | 11 |         |    0 | 00/0F21               | * loop on a line (lopp length = hdef bytes / 8) => calculte loop length 
  501 |  1 asmdemo.s    237 | Comment     | 11 |         |    0 | 00/0F21               | * needs : pointer to inputbyte
  502 |  1 asmdemo.s    238 | Comment     | 11 |         |    0 | 00/0F21               | * init pointer to imgdata
  503 |  1 asmdemo.s    239 | Empty       | 11 |         |    0 | 00/0F21               |                                                    
  504 |  1 asmdemo.s    240 | Comment     | 11 |         |    0 | 00/0F21               | * for i = 1 to loop length
  505 |  1 asmdemo.s    241 | Comment     | 11 |         |    0 | 00/0F21               | * for each byte :
  506 |  1 asmdemo.s    242 | Comment     | 11 |         |    0 | 00/0F21               | * loop 8 time (or less if end of line occurs before 8)
  507 |  1 asmdemo.s    243 | Comment     | 11 |         |    0 | 00/0F21               | * get next bit by shifting left in C
  508 |  1 asmdemo.s    244 | Comment     | 11 |         |    0 | 00/0F21               | * poke bit in output byte : need bitcounter
  509 |  1 asmdemo.s    245 | Comment     | 11 |         |    0 | 00/0F21               | * if C = 0 : x = bitcounter; lda output byte ; and tableZero ; sta output byte
  510 |  1 asmdemo.s    246 | Comment     | 11 |         |    0 | 00/0F21               | * if C = 1 : x = bitcounter; lda tableZero,x ; eor $ff ; and output byte ; sta output byte
  511 |  1 asmdemo.s    247 | Comment     | 11 |         |    0 | 00/0F21               | * inc bitcounter ; cmp #7 ; bne loop else { next output byte, bitcounter = 0}
  512 |  1 asmdemo.s    248 | Comment     | 11 |         |    0 | 00/0F21               | * Draw line using PaintBits function in graphic primitives package
  513 |  1 asmdemo.s    249 | Comment     | 11 |         |    0 | 00/0F21               | * next line
  514 |  1 asmdemo.s    250 | Comment     | 11 |         |    0 | 00/0F21               | * check for last line
  515 |  1 asmdemo.s    251 | Comment     | 11 |         |    0 | 00/0F21               | *
  516 |  1 asmdemo.s    252 | Comment     | 11 |         |    0 | 00/0F21               | * vars :
  517 |  1 asmdemo.s    253 | Comment     | 11 |         |    0 | 00/0F21               | *<sym>
  518 |  1 asmdemo.s    254 | Data        | 11 |         |    1 | 00/0F21 : 00          | lineCnt              ds       1                    ; current # of lines
  519 |  1 asmdemo.s    255 | Comment     | 11 |         |    0 | 00/0F22               | *<sym>
  520 |  1 asmdemo.s    256 | Data        | 11 |         |    1 | 00/0F22 : 00          | inputBitPos          ds       1                    ; current position in input byte (0 to 7)
  521 |  1 asmdemo.s    257 | Comment     | 11 |         |    0 | 00/0F23               | *<sym>
  522 |  1 asmdemo.s    258 | Data        | 11 |         |    2 | 00/0F23 : 00 00       | inputBitCnt          ds       2                    ; current # of input byte (0 to hdef - 1)
  523 |  1 asmdemo.s    259 | Comment     | 11 |         |    0 | 00/0F25               | *<sym>
  524 |  1 asmdemo.s    260 | Data        | 11 |         |    1 | 00/0F25 : 00          | outputBitPos         ds       1                    ; current position in ouput byte (0 to 6)
  525 |  1 asmdemo.s    261 | Comment     | 11 |         |    0 | 00/0F26               | *<sym>
  526 |  1 asmdemo.s    262 | Data        | 11 |         |    1 | 00/0F26 : 00          | inbyte               ds       1                    ; save input byte
  527 |  1 asmdemo.s    263 | Comment     | 11 |         |    0 | 00/0F27               | *<sym>
  528 |  1 asmdemo.s    264 | Data        | 11 |         |    1 | 00/0F27 : 00          | inputByteCnt         ds       1                    ; counts # of input byte in a line
  529 |  1 asmdemo.s    265 | Comment     | 11 |         |    0 | 00/0F28               | *<sym>
  530 |  1 asmdemo.s    266 | Empty       | 11 |         |    0 | 00/0F28               | tableZero                                          
  531 |  1 asmdemo.s    267 | Data        | 11 |         |    1 | 00/0F28 : FE          |                      db       %11111110            
  532 |  1 asmdemo.s    268 | Data        | 11 |         |    1 | 00/0F29 : FD          |                      db       %11111101            
  533 |  1 asmdemo.s    269 | Data        | 11 |         |    1 | 00/0F2A : FB          |                      db       %11111011            
  534 |  1 asmdemo.s    270 | Data        | 11 |         |    1 | 00/0F2B : F7          |                      db       %11110111            
  535 |  1 asmdemo.s    271 | Data        | 11 |         |    1 | 00/0F2C : EF          |                      db       %11101111            
  536 |  1 asmdemo.s    272 | Data        | 11 |         |    1 | 00/0F2D : DF          |                      db       %11011111            
  537 |  1 asmdemo.s    273 | Data        | 11 |         |    1 | 00/0F2E : BF          |                      db       %10111111            
  538 |  1 asmdemo.s    274 | Comment     | 11 |         |    0 | 00/0F2F               | *<sym>
  539 |  1 asmdemo.s    275 | Data        | 11 |         |    7 | 00/0F2F : 00 00 00 00 | tableOne             ds       7                    
      |                     |             |    |         |      |           00 00 00    |
  540 |  1 asmdemo.s    276 | Comment     | 11 |         |    0 | 00/0F36               | *<sym>
  541 |  1 asmdemo.s    277 | Data        | 11 |         |    1 | 00/0F36 : 00          | bitmapwidth          ds       1                    
  542 |  1 asmdemo.s    278 | Comment     | 11 |         |    0 | 00/0F37               | *<sym>
  543 |  1 asmdemo.s    279 | Data        | 11 |         |    1 | 00/0F37 : 01          | flipflop             db       1                    ; used to double pixels horizontally
  544 |  1 asmdemo.s    280 | Comment     | 11 |         |    0 | 00/0F38               | *<sym>
  545 |  1 asmdemo.s    281 | Data        | 11 |         |    1 | 00/0F38 : 00          | quitflag             ds       1                    ; to ckeck if user press escape key
  546 |  1 asmdemo.s    282 | Empty       | 11 |         |    0 | 00/0F39               |                                                    
  547 |  1 asmdemo.s    283 | Comment     | 11 |         |    0 | 00/0F39               | ******** line grafport ********
  548 |  1 asmdemo.s    284 | Comment     | 11 |         |    0 | 00/0F39               | *<sym>
  549 |  1 asmdemo.s    285 | Data        | 11 |         |    4 | 00/0F39 : 00 00 00 00 | imageLine            dw       0,0                  ; view location on current port
  550 |  1 asmdemo.s    286 | Comment     | 11 |         |    0 | 00/0F3D               | *<sym>
  551 |  1 asmdemo.s    287 | Data        | 11 |         |    2 | 00/0F3D : 49 0F       | imfbits              dw       outbuff              ; bitmap pointer
  552 |  1 asmdemo.s    288 | Comment     | 11 |         |    0 | 00/0F3F               | *<sym>
  553 |  1 asmdemo.s    289 | Data        | 11 |         |    2 | 00/0F3F : 00 00       | imgw                 dw       0                    ; width of bitmap
  554 |  1 asmdemo.s    290 | Comment     | 11 |         |    0 | 00/0F41               | *<sym>
  555 |  1 asmdemo.s    291 | Data        | 11 |         |    8 | 00/0F41 : 00 00 00 00 | clipr                dw       0,0,0,0              ; clip rectangle
      |                     |             |    |         |      |           00 00 00 00 |
  556 |  1 asmdemo.s    292 | Comment     | 11 |         |    0 | 00/0F49               | *<sym>
  557 |  1 asmdemo.s    293 | Data        | 11 |         |   80 | 00/0F49 : 00 00 00 00 | outbuff              ds       80                   
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
  558 |  1 asmdemo.s    294 | Comment     | 11 |         |    0 | 00/0F99               | *<sym>
  559 |  1 asmdemo.s    295 | Data        | 11 |         |    1 | 00/0F99 : 01          | carryf               db       1                    
  560 |  1 asmdemo.s    296 | Comment     | 11 |         |    0 | 00/0F9A               | *<sym>
  561 |  1 asmdemo.s    297 | Data        | 11 |         |    1 | 00/0F9A : 01          | inverse              db       1                    
  562 |  1 asmdemo.s    298 | Empty       | 11 |         |    0 | 00/0F9B               |                                                    
  563 |  1 asmdemo.s    299 | Comment     | 11 |         |    0 | 00/0F9B               | *<sym>
  564 |  1 asmdemo.s    300 | Empty       | 11 |         |    0 | 00/0F9B               | Doimg                                              
  565 |  1 asmdemo.s    301 | Comment     | 11 |         |    0 | 00/0F9B               | ***** init *****
  566 |  1 asmdemo.s    302 | Empty       | 11 |         |    0 | 00/0F9B               |                                                    
  567 |  1 asmdemo.s    303 | Code        | 11 |         |    3 | 00/0F9B : 20 A2 14    |                      jsr      clearbuffer          ; clear line buffer
  568 |  1 asmdemo.s    304 | Empty       | 11 |         |    0 | 00/0F9E               |                                                    
  569 |  1 asmdemo.s    305 | Code        | 11 |         |    2 | 00/0F9E : A9 00       |                      lda      #0                   ; init input line counter
  570 |  1 asmdemo.s    306 | Code        | 11 |         |    3 | 00/0FA0 : 8D 21 0F    |                      sta      lineCnt              
  571 |  1 asmdemo.s    307 | Code        | 11 |         |    3 | 00/0FA3 : 8D 23 0F    |                      sta      inputBitCnt          ; init input bit counter
  572 |  1 asmdemo.s    308 | Code        | 11 |         |    3 | 00/0FA6 : 8D 24 0F    |                      sta      inputBitCnt+1        
  573 |  1 asmdemo.s    309 | Code        | 11 |         |    3 | 00/0FA9 : 8D 27 0F    |                      sta      inputByteCnt         ; init # of byte in a row
  574 |  1 asmdemo.s    310 | Empty       | 11 |         |    0 | 00/0FAC               |                                                    
  575 |  1 asmdemo.s    311 | Code        | 11 |         |    3 | 00/0FAC : 8D 25 0F    |                      sta      outputBitPos         ; init output bit counter
  576 |  1 asmdemo.s    312 | Empty       | 11 |         |    0 | 00/0FAF               |                                                    
  577 |  1 asmdemo.s    313 | Code        | 11 |         |    3 | 00/0FAF : AD F0 0E    |                      lda      imgdata              ; init pointer to image data (input)
  578 |  1 asmdemo.s    314 | Code        | 11 |         |    3 | 00/0FB2 : 8D FC 0F    |                      sta      lineloop+1           
  579 |  1 asmdemo.s    315 | Code        | 11 |         |    3 | 00/0FB5 : AD F1 0E    |                      lda      imgdata+1            
  580 |  1 asmdemo.s    316 | Code        | 11 |         |    3 | 00/0FB8 : 8D FD 0F    |                      sta      lineloop+2           
  581 |  1 asmdemo.s    317 | Empty       | 11 |         |    0 | 00/0FBB               |                                                    
  582 |  1 asmdemo.s    318 | Code        | 11 |         |    2 | 00/0FBB : A9 49       |                      lda      #<outbuff            ; init pointer to ouput (buffer)
  583 |  1 asmdemo.s    319 | Code        | 11 |         |    3 | 00/0FBD : 8D 21 10    |                      sta      getoutbyte+1         
  584 |  1 asmdemo.s    320 | Code        | 11 |         |    2 | 00/0FC0 : A9 0F       |                      lda      #>outbuff            
  585 |  1 asmdemo.s    321 | Code        | 11 |         |    3 | 00/0FC2 : 8D 22 10    |                      sta      getoutbyte+2         
  586 |  1 asmdemo.s    322 | Empty       | 11 |         |    0 | 00/0FC5               |                                                    
  587 |  1 asmdemo.s    323 | Code        | 11 |         |    2 | 00/0FC5 : A2 00       |                      ldx      #0                   ; init tableOne (= eor table Zero)
  588 |  1 asmdemo.s    324 | Comment     | 11 |         |    0 | 00/0FC7               | *<sym> 
  589 |  1 asmdemo.s    325 | Code        | 11 |         |    3 | 00/0FC7 : BD 28 0F    | tabloop              lda      tableZero,x          
  590 |  1 asmdemo.s    326 | Code        | 11 |         |    2 | 00/0FCA : 49 FF       |                      eor      #$FF                 
  591 |  1 asmdemo.s    327 | Code        | 11 |         |    3 | 00/0FCC : 9D 2F 0F    |                      sta      tableOne,x           
  592 |  1 asmdemo.s    328 | Code        | 11 |         |    1 | 00/0FCF : E8          |                      inx                           
  593 |  1 asmdemo.s    329 | Code        | 11 |         |    2 | 00/0FD0 : E0 07       |                      cpx      #7                   
  594 |  1 asmdemo.s    330 | Code        | 11 |         |    2 | 00/0FD2 : D0 F3       |                      bne      tabloop              
  595 |  1 asmdemo.s    331 | Comment     | 11 |         |    0 | 00/0FD4               | *<sym>
  596 |  1 asmdemo.s    332 | Empty       | 11 |         |    0 | 00/0FD4               | getwidth                                           
  597 |  1 asmdemo.s    333 | Code        | 11 |         |    3 | 00/0FD4 : AD EA 0E    |                      lda      hdef                 
  598 |  1 asmdemo.s    334 | Code        | 11 |         |    3 | 00/0FD7 : AE EB 0E    |                      ldx      hdef+1               
  599 |  1 asmdemo.s    335 | Code        | 11 |         |    3 | 00/0FDA : 20 C6 14    |                      jsr      computeBytes         
  600 |  1 asmdemo.s    336 | Code        | 11 |         |    3 | 00/0FDD : 8E 36 0F    |                      stx      bitmapwidth          
  601 |  1 asmdemo.s    337 | Comment     | 11 |         |    0 | 00/0FE0               | *<sym>
  602 |  1 asmdemo.s    338 | Empty       | 11 |         |    0 | 00/0FE0               | setline                                            
  603 |  1 asmdemo.s    339 | Code        | 11 |         |    3 | 00/0FE0 : AD EC 0E    |                      lda      vdef                 
  604 |  1 asmdemo.s    340 | Code        | 11 |         |    3 | 00/0FE3 : 8D 3B 0F    |                      sta      imageLine+2          ; set vertical position of lower image line
  605 |  1 asmdemo.s    341 | Empty       | 11 |         |    0 | 00/0FE6               |                                                    
  606 |  1 asmdemo.s    342 | Code        | 11 |         |    3 | 00/0FE6 : AD 36 0F    |                      lda      bitmapwidth          
  607 |  1 asmdemo.s    343 | Code        | 11 |         |    1 | 00/0FE9 : 0A          |                      asl                           
  608 |  1 asmdemo.s    344 | Code        | 11 |         |    3 | 00/0FEA : 8D 3F 0F    |                      sta      imgw                 ; set image width in byte
  609 |  1 asmdemo.s    345 | Empty       | 11 |         |    0 | 00/0FED               |                                                    
  610 |  1 asmdemo.s    346 | Code        | 11 |         |    3 | 00/0FED : AD EA 0E    |                      lda      hdef                 ; set clip rectangle in pixels
  611 |  1 asmdemo.s    347 | Code        | 11 |         |    1 | 00/0FF0 : 0A          |                      asl                           
  612 |  1 asmdemo.s    348 | Code        | 11 |         |    3 | 00/0FF1 : 8D 45 0F    |                      sta      clipr+4              
  613 |  1 asmdemo.s    349 | Code        | 11 |         |    3 | 00/0FF4 : AD EB 0E    |                      lda      hdef+1               
  614 |  1 asmdemo.s    350 | Code        | 11 |         |    1 | 00/0FF7 : 2A          |                      rol                           
  615 |  1 asmdemo.s    351 | Code        | 11 |         |    3 | 00/0FF8 : 8D 46 0F    |                      sta      clipr+5              
  616 |  1 asmdemo.s    352 | Empty       | 11 |         |    0 | 00/0FFB               |                                                    
  617 |  1 asmdemo.s    353 | Comment     | 11 |         |    0 | 00/0FFB               | ***** process data *****
  618 |  1 asmdemo.s    354 | Comment     | 11 |         |    0 | 00/0FFB               | * outer loop (on all bytes of an image line)
  619 |  1 asmdemo.s    355 | Comment     | 11 |         |    0 | 00/0FFB               | *<sym>   
  620 |  1 asmdemo.s    356 | Empty       | 11 |         |    0 | 00/0FFB               | lineloop                                           ; get a new input byte
  621 |  1 asmdemo.s    357 | Code        | 11 |         |    3 | 00/0FFB : AD FF FF    |                      lda      $ffff                ; self modified
  622 |  1 asmdemo.s    358 | Code        | 11 |         |    1 | 00/0FFE : 48          |                      pha                           
  623 |  1 asmdemo.s    359 | Code        | 11 |         |    3 | 00/0FFF : AD 9A 0F    |                      lda      inverse              
  624 |  1 asmdemo.s    360 | Code        | 11 |         |    2 | 00/1002 : F0 06       |                      beq      normalvideo          
  625 |  1 asmdemo.s    361 | Code        | 11 |         |    1 | 00/1004 : 68          |                      pla                           
  626 |  1 asmdemo.s    362 | Code        | 11 |         |    2 | 00/1005 : 49 FF       |                      eor      #$ff                 
  627 |  1 asmdemo.s    363 | Code        | 11 |         |    3 | 00/1007 : 4C 0B 10    |                      jmp      inversevideo         
  628 |  1 asmdemo.s    364 | Comment     | 11 |         |    0 | 00/100A               | *<sym>
  629 |  1 asmdemo.s    365 | Empty       | 11 |         |    0 | 00/100A               | normalvideo                                        
  630 |  1 asmdemo.s    366 | Code        | 11 |         |    1 | 00/100A : 68          |                      pla                           
  631 |  1 asmdemo.s    367 | Comment     | 11 |         |    0 | 00/100B               | *<sym>
  632 |  1 asmdemo.s    368 | Empty       | 11 |         |    0 | 00/100B               | inversevideo                                       
  633 |  1 asmdemo.s    369 | Code        | 11 |         |    3 | 00/100B : 8D 26 0F    |                      sta      inbyte               ; save it
  634 |  1 asmdemo.s    370 | Code        | 11 |         |    3 | 00/100E : EE 27 0F    |                      inc      inputByteCnt         ; update counter
  635 |  1 asmdemo.s    371 | Empty       | 11 |         |    0 | 00/1011               |                                                    
  636 |  1 asmdemo.s    372 | Comment     | 11 |         |    0 | 00/1011               | * inner loop on pixels (= input bits)
  637 |  1 asmdemo.s    373 | Comment     | 11 |         |    0 | 00/1011               | *<sym>
  638 |  1 asmdemo.s    374 | Empty       | 11 |         |    0 | 00/1011               | pixelloop                                          
  639 |  1 asmdemo.s    375 | Code        | 11 |         |    3 | 00/1011 : AD 26 0F    |                      lda      inbyte               ; reload input byte
  640 |  1 asmdemo.s    376 | Code        | 11 |         |    1 | 00/1014 : 0A          |                      asl                           ; get a bit
  641 |  1 asmdemo.s    377 | Code        | 11 |         |    3 | 00/1015 : 8D 26 0F    |                      sta      inbyte               ; save shifted input byte
  642 |  1 asmdemo.s    378 | Empty       | 11 |         |    0 | 00/1018               |                                                    
  643 |  1 asmdemo.s    379 | Code        | 11 |         |    3 | 00/1018 : EE 23 0F    |                      inc      inputBitCnt          
  644 |  1 asmdemo.s    380 | Code        | 11 |         |    2 | 00/101B : D0 03       |                      bne      getoutbyte           
  645 |  1 asmdemo.s    381 | Code        | 11 |         |    3 | 00/101D : EE 24 0F    |                      inc      inputBitCnt+1        
  646 |  1 asmdemo.s    382 | Comment     | 11 |         |    0 | 00/1020               | *<sym>        
  647 |  1 asmdemo.s    383 | Empty       | 11 |         |    0 | 00/1020               | getoutbyte                                         
  648 |  1 asmdemo.s    384 | Code        | 11 |         |    3 | 00/1020 : AD FF FF    |                      lda      $ffff                ; get ouput byte
  649 |  1 asmdemo.s    385 | Code        | 11 |         |    3 | 00/1023 : AE 25 0F    |                      ldx      outputBitPos         
  650 |  1 asmdemo.s    386 | Code        | 11 |         |    2 | 00/1026 : B0 0B       |                      bcs      pokeOne              ; bit coming from input byte = 1 ?
  651 |  1 asmdemo.s    387 | Comment     | 11 |         |    0 | 00/1028               | *<sym>
  652 |  1 asmdemo.s    388 | Empty       | 11 |         |    0 | 00/1028               | pokeZero                                           ; no : set this bit to 0 in output bit
  653 |  1 asmdemo.s    389 | Code        | 11 |         |    3 | 00/1028 : 3D 28 0F    |                      and      tableZero,x          ; A : ouput byte, and it with table value
  654 |  1 asmdemo.s    390 | Code        | 11 |         |    2 | 00/102B : A0 00       |                      ldy      #0                   
  655 |  1 asmdemo.s    391 | Code        | 11 |         |    3 | 00/102D : 8C 99 0F    |                      sty      carryf               ; save carry value in carryf var
  656 |  1 asmdemo.s    392 | Code        | 11 |         |    3 | 00/1030 : 4C 3B 10    |                      jmp      pokeresult           
  657 |  1 asmdemo.s    393 | Comment     | 11 |         |    0 | 00/1033               | *<sym>
  658 |  1 asmdemo.s    394 | Empty       | 11 |         |    0 | 00/1033               | pokeOne                                            ; yes : set this bit to 1 in output bit
  659 |  1 asmdemo.s    395 | Code        | 11 |         |    2 | 00/1033 : A0 01       |                      ldy      #1                   
  660 |  1 asmdemo.s    396 | Code        | 11 |         |    3 | 00/1035 : 8C 99 0F    |                      sty      carryf               ; save carry value in carryf var
  661 |  1 asmdemo.s    397 | Code        | 11 |         |    3 | 00/1038 : 1D 2F 0F    |                      ora      tableOne,x           
  662 |  1 asmdemo.s    398 | Comment     | 11 |         |    0 | 00/103B               | *<sym>                                
  663 |  1 asmdemo.s    399 | Empty       | 11 |         |    0 | 00/103B               | pokeresult                                         ; save output byte
  664 |  1 asmdemo.s    400 | Code        | 11 |         |    3 | 00/103B : AE 21 10    |                      ldx      getoutbyte+1         ; get output address
  665 |  1 asmdemo.s    401 | Code        | 11 |         |    2 | 00/103E : 86 06       |                      stx      {$06}                
  666 |  1 asmdemo.s    402 | Code        | 11 |         |    3 | 00/1040 : AE 22 10    |                      ldx      getoutbyte+2         
  667 |  1 asmdemo.s    403 | Code        | 11 |         |    2 | 00/1043 : 86 07       |                      stx      {$06}+1              
  668 |  1 asmdemo.s    404 | Code        | 11 |         |    2 | 00/1045 : A0 00       |                      ldy      #0                   
  669 |  1 asmdemo.s    405 | Code        | 11 |         |    2 | 00/1047 : 91 06       |                      sta      ({$06}),y            ; poke output byte in its original place
  670 |  1 asmdemo.s    406 | Comment     | 11 |         |    0 | 00/1049               | *<sym> 
  671 |  1 asmdemo.s    407 | Code        | 11 |         |    3 | 00/1049 : EE 25 0F    | updateoutput         inc      outputBitPos         ; get bit pos (output)
  672 |  1 asmdemo.s    408 | Code        | 11 |         |    3 | 00/104C : AD 25 0F    |                      lda      outputBitPos         
  673 |  1 asmdemo.s    409 | Code        | 11 |         |    2 | 00/104F : C9 07       |                      cmp      #7                   ; = 7 ?
  674 |  1 asmdemo.s    410 | Code        | 11 |         |    2 | 00/1051 : D0 08       |                      bne      ozunid_4             
  675 |  1 asmdemo.s    411 | Code        | 11 |         |    2 | 00/1053 : A9 00       |                      lda      #0                   
  676 |  1 asmdemo.s    412 | Code        | 11 |         |    3 | 00/1055 : 8D 25 0F    |                      sta      outputBitPos         ; yes : reset pos
  677 |  1 asmdemo.s    413 | Code        | 11 |         |    3 | 00/1058 : 20 E9 10    |                      jsr      nextoutput           ; inc pointer
  678 |  1 asmdemo.s    414 | Empty       | 11 |         |    0 | 00/105B               | ozunid_4                                           
  679 |  1 asmdemo.s    415 | Code        | 11 |         |    1 | 00/105B : 18          |                      clc                           
  680 |  1 asmdemo.s    416 | Code        | 11 |         |    3 | 00/105C : AC 99 0F    |                      ldy      carryf               
  681 |  1 asmdemo.s    417 | Code        | 11 |         |    2 | 00/105F : F0 01       |                      beq      ozunid_5             
  682 |  1 asmdemo.s    418 | Code        | 11 |         |    1 | 00/1061 : 38          |                      sec                           
  683 |  1 asmdemo.s    419 | Code        | 11 |         |    3 | 00/1062 : AD 37 0F    | ozunid_5             lda      flipflop             ; each pixel horizontally must be draw twice (and only twice)
  684 |  1 asmdemo.s    420 | Code        | 11 |         |    2 | 00/1065 : 49 01       |                      eor      #1                   ; test flipflop
  685 |  1 asmdemo.s    421 | Code        | 11 |         |    3 | 00/1067 : 8D 37 0F    |                      sta      flipflop             ; invvert it
  686 |  1 asmdemo.s    422 | Code        | 11 |         |    2 | 00/106A : F0 B4       |                      beq      getoutbyte           ; if 0 : draw same pixel once again
  687 |  1 asmdemo.s    423 | Empty       | 11 |         |    0 | 00/106C               |                                                    
  688 |  1 asmdemo.s    424 | Code        | 11 |         |    3 | 00/106C : AD 23 0F    |                      lda      inputBitCnt          ; all pixels done for this line ?
  689 |  1 asmdemo.s    425 | Code        | 11 |         |    3 | 00/106F : CD EA 0E    |                      cmp      hdef                 ;
  690 |  1 asmdemo.s    426 | Code        | 11 |         |    2 | 00/1072 : D0 54       |                      bne      nextpixel            ; no : loop to process next pixel
  691 |  1 asmdemo.s    427 | Code        | 11 |         |    3 | 00/1074 : AD 24 0F    |                      lda      inputBitCnt+1        
  692 |  1 asmdemo.s    428 | Code        | 11 |         |    3 | 00/1077 : CD EB 0E    |                      cmp      hdef+1               
  693 |  1 asmdemo.s    429 | Code        | 11 |         |    2 | 00/107A : D0 4C       |                      bne      nextpixel            
  694 |  1 asmdemo.s    430 | Empty       | 11 |         |    0 | 00/107C               |                                                    
  695 |  1 asmdemo.s    431 | Comment     | 11 |         |    0 | 00/107C               | *<sym>  
  696 |  1 asmdemo.s    432 | Empty       | 11 |         |    0 | 00/107C               | nextline                                           ; yes : paint current line and prepare next one
  697 |  1 asmdemo.s    433 | Code        | 11 |         |    3 | 00/107C : 20 F2 10    |                      jsr      drawImgLine          ; a line has been calcultated, paint it !!!
  698 |  1 asmdemo.s    434 | Empty       | 11 |         |    0 | 00/107F               |                                                    
  699 |  1 asmdemo.s    435 | Code        | 11 |         |    2 | 00/107F : A9 49       |                      lda      #<outbuff            ; reset pointer to beginning of output buffer
  700 |  1 asmdemo.s    436 | Code        | 11 |         |    3 | 00/1081 : 8D 21 10    |                      sta      getoutbyte+1         
  701 |  1 asmdemo.s    437 | Code        | 11 |         |    2 | 00/1084 : A9 0F       |                      lda      #>outbuff            
  702 |  1 asmdemo.s    438 | Code        | 11 |         |    3 | 00/1086 : 8D 22 10    |                      sta      getoutbyte+2         
  703 |  1 asmdemo.s    439 | Code        | 11 |         |    3 | 00/1089 : 20 A2 14    |                      jsr      clearbuffer          ; zero ouput buffer
  704 |  1 asmdemo.s    440 | Comment     | 11 |         |    0 | 00/108C               | *<sym> 
  705 |  1 asmdemo.s    441 | Empty       | 11 |         |    0 | 00/108C               | loopadjust                                         ; in an image line, # of bytes must be divisible by 4
  706 |  1 asmdemo.s    442 | Comment     | 11 |         |    0 | 00/108C               |                                         ; if not, padded with zeros to make it divisible by 4
  707 |  1 asmdemo.s    443 | Comment     | 11 |         |    0 | 00/108C               |                                         ; so we need to jump over these useless bytes.
  708 |  1 asmdemo.s    444 | Code        | 11 |         |    3 | 00/108C : AD 27 0F    |                      lda      inputByteCnt         ; get # of byte done in previous image line
  709 |  1 asmdemo.s    445 | Code        | 11 |         |    2 | 00/108F : 29 03       |                      and      #3                   ; if this number is divisible by 4
  710 |  1 asmdemo.s    446 | Code        | 11 |         |    2 | 00/1091 : F0 0B       |                      beq      div4ok               ; go on
  711 |  1 asmdemo.s    447 | Code        | 11 |         |    3 | 00/1093 : 20 E0 10    |                      jsr      nextinput            ; else inc pointer to input data
  712 |  1 asmdemo.s    448 | Code        | 11 |         |    3 | 00/1096 : EE 27 0F    |                      inc      inputByteCnt         ; inc counter
  713 |  1 asmdemo.s    449 | Code        | 11 |         |    3 | 00/1099 : 4C 8C 10    |                      jmp      loopadjust           ; and loop until inputByteCnt is divisible by 4
  714 |  1 asmdemo.s    450 | Code        | 11 |         |    2 | 00/109C : D0 00       |                      bne      div4ok               
  715 |  1 asmdemo.s    451 | Comment     | 11 |         |    0 | 00/109E               | *<sym> 
  716 |  1 asmdemo.s    452 | Empty       | 11 |         |    0 | 00/109E               | div4ok                                             
  717 |  1 asmdemo.s    453 | Code        | 11 |         |    2 | 00/109E : A9 00       |                      lda      #0                   
  718 |  1 asmdemo.s    454 | Code        | 11 |         |    3 | 00/10A0 : 8D 27 0F    |                      sta      inputByteCnt         ; init byte counter for a line
  719 |  1 asmdemo.s    455 | Code        | 11 |         |    3 | 00/10A3 : 20 E0 10    |                      jsr      nextinput            ; inc pointer to input byte
  720 |  1 asmdemo.s    456 | Code        | 11 |         |    2 | 00/10A6 : A9 00       |                      lda      #0                   
  721 |  1 asmdemo.s    457 | Code        | 11 |         |    3 | 00/10A8 : 8D 22 0F    |                      sta      inputBitPos          ; reset bit pos for input
  722 |  1 asmdemo.s    458 | Code        | 11 |         |    3 | 00/10AB : 8D 23 0F    |                      sta      inputBitCnt          ; reset input bit counter
  723 |  1 asmdemo.s    459 | Code        | 11 |         |    3 | 00/10AE : 8D 24 0F    |                      sta      inputBitCnt+1        
  724 |  1 asmdemo.s    460 | Code        | 11 |         |    3 | 00/10B1 : 8D 25 0F    |                      sta      outputBitPos         ; reset output byte position
  725 |  1 asmdemo.s    461 | Empty       | 11 |         |    0 | 00/10B4               |                                                    
  726 |  1 asmdemo.s    462 | Code        | 11 |         |    2 | 00/10B4 : A9 01       |                      lda      #1                   
  727 |  1 asmdemo.s    463 | Code        | 11 |         |    3 | 00/10B6 : 8D 37 0F    |                      sta      flipflop             ; reset toggle to double pixel width
  728 |  1 asmdemo.s    464 | Empty       | 11 |         |    0 | 00/10B9               |                                                    
  729 |  1 asmdemo.s    465 | Code        | 11 |         |    3 | 00/10B9 : EE 21 0F    |                      inc      lineCnt              ; inc line counter
  730 |  1 asmdemo.s    466 | Code        | 11 |         |    3 | 00/10BC : AD 21 0F    |                      lda      lineCnt              
  731 |  1 asmdemo.s    467 | Code        | 11 |         |    3 | 00/10BF : CD EC 0E    |                      cmp      vdef                 ; all lines done ?
  732 |  1 asmdemo.s    468 | Code        | 11 |         |    2 | 00/10C2 : F0 03       |                      beq      endimage             ; yes : the image is finished !
  733 |  1 asmdemo.s    469 | Code        | 11 |         |    3 | 00/10C4 : 4C FB 0F    |                      jmp      lineloop             ; no : loop for another image line
  734 |  1 asmdemo.s    470 | Comment     | 11 |         |    0 | 00/10C7               | *<sym>  
  735 |  1 asmdemo.s    471 | Empty       | 11 |         |    0 | 00/10C7               | endimage                                           
  736 |  1 asmdemo.s    472 | Code        | 11 |         |    1 | 00/10C7 : 60          |                      rts                           ; END !!!
  737 |  1 asmdemo.s    473 | Comment     | 11 |         |    0 | 00/10C8               | *<sym>         
  738 |  1 asmdemo.s    474 | Empty       | 11 |         |    0 | 00/10C8               | nextpixel                                          ; no : other pixels to go on current line
  739 |  1 asmdemo.s    475 | Code        | 11 |         |    3 | 00/10C8 : EE 22 0F    |                      inc      inputBitPos          ; get bit pos (input)
  740 |  1 asmdemo.s    476 | Code        | 11 |         |    3 | 00/10CB : AD 22 0F    |                      lda      inputBitPos          
  741 |  1 asmdemo.s    477 | Code        | 11 |         |    2 | 00/10CE : C9 08       |                      cmp      #8                   ; = 8 ?
  742 |  1 asmdemo.s    478 | Code        | 11 |         |    2 | 00/10D0 : F0 03       |                      beq      nextbyte             
  743 |  1 asmdemo.s    479 | Code        | 11 |         |    3 | 00/10D2 : 4C 11 10    |                      jmp      pixelloop            
  744 |  1 asmdemo.s    480 | Comment     | 11 |         |    0 | 00/10D5               | *<sym>  
  745 |  1 asmdemo.s    481 | Empty       | 11 |         |    0 | 00/10D5               | nextbyte                                           
  746 |  1 asmdemo.s    482 | Code        | 11 |         |    2 | 00/10D5 : A9 00       |                      lda      #0                   ; yes : adjust vars
  747 |  1 asmdemo.s    483 | Code        | 11 |         |    3 | 00/10D7 : 8D 22 0F    |                      sta      inputBitPos          ; reset input bit position pos to 0
  748 |  1 asmdemo.s    484 | Code        | 11 |         |    3 | 00/10DA : 20 E0 10    |                      jsr      nextinput            ; inc pointer to image data
  749 |  1 asmdemo.s    485 | Code        | 11 |         |    3 | 00/10DD : 4C FB 0F    |                      jmp      lineloop             ; loop to get next input byte
  750 |  1 asmdemo.s    486 | Comment     | 11 |         |    0 | 00/10E0               | *<sym>                                 
  751 |  1 asmdemo.s    487 | Empty       | 11 |         |    0 | 00/10E0               | nextinput                                          
  752 |  1 asmdemo.s    488 | Code        | 11 |         |    3 | 00/10E0 : EE FC 0F    |                      inc      lineloop+1           
  753 |  1 asmdemo.s    489 | Code        | 11 |         |    2 | 00/10E3 : D0 03       |                      bne      nextinputO           
  754 |  1 asmdemo.s    490 | Code        | 11 |         |    3 | 00/10E5 : EE FD 0F    |                      inc      lineloop+2           
  755 |  1 asmdemo.s    491 | Comment     | 11 |         |    0 | 00/10E8               | *<sym>
  756 |  1 asmdemo.s    492 | Code        | 11 |         |    1 | 00/10E8 : 60          | nextinputO           rts                           
  757 |  1 asmdemo.s    493 | Empty       | 11 |         |    0 | 00/10E9               |                                                    
  758 |  1 asmdemo.s    494 | Comment     | 11 |         |    0 | 00/10E9               | *<sym>
  759 |  1 asmdemo.s    495 | Empty       | 11 |         |    0 | 00/10E9               | nextoutput                                         
  760 |  1 asmdemo.s    496 | Code        | 11 |         |    3 | 00/10E9 : EE 21 10    |                      inc      getoutbyte+1         
  761 |  1 asmdemo.s    497 | Code        | 11 |         |    2 | 00/10EC : D0 03       |                      bne      nextoutputO          
  762 |  1 asmdemo.s    498 | Code        | 11 |         |    3 | 00/10EE : EE 22 10    |                      inc      getoutbyte+2         
  763 |  1 asmdemo.s    499 | Comment     | 11 |         |    0 | 00/10F1               | *<sym>
  764 |  1 asmdemo.s    500 | Code        | 11 |         |    1 | 00/10F1 : 60          | nextoutputO          rts                           
  765 |  1 asmdemo.s    501 | Comment     | 11 |         |    0 | 00/10F2               | *<sym>
  766 |  1 asmdemo.s    502 | Empty       | 11 |         |    0 | 00/10F2               | drawImgLine                                        
  767 |  1 asmdemo.s    503 | Macro       | 11 |         |    0 | 00/10F2               |                      GP_call  {{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1};imageLine; dram a line of the image
  768 |  1 asmdemo.s    503 | Code        | 11 |         |    3 | 00/10F2 : 20 00 40    |                      jsr      {$4000}              ; graphic primitives only entry point
  769 |  1 asmdemo.s    503 | Data        | 11 |         |    1 | 00/10F5 : 14          |                      dfb      {{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}; command ID (1 byte)
  770 |  1 asmdemo.s    503 | Data        | 11 |         |    2 | 00/10F6 : 39 0F       |                      da       imageLine            ; address of parameter(s) (2 bytes), 0 if no paramter
  771 |  1 asmdemo.s    504 | Code        | 11 |         |    3 | 00/10F8 : CE 3B 0F    |                      dec      imageLine+2          
  772 |  1 asmdemo.s    505 | Code        | 11 |         |    1 | 00/10FB : 60          |                      rts                           
  773 |  1 asmdemo.s    506 | Comment     | 11 |         |    0 | 00/10FC               | *<syme>
  774 |  1 asmdemo.s    507 | Equivalence | 11 |         |    0 | 00/10FC               | bmp                  equ      $6000                ; image is supposed to be loaded at $6000
  775 |  1 asmdemo.s    508 | Empty       | 11 |         |    0 | 00/10FC               |                                                    
  776 |  1 asmdemo.s    509 | Comment     | 11 |         |    0 | 00/10FC               | *<sym>
  777 |  1 asmdemo.s    510 | Empty       | 11 |         |    0 | 00/10FC               | DoKey                                              ; test keys
  778 |  1 asmdemo.s    511 | Code        | 11 |         |    2 | 00/10FC : C9 E9       |                      cmp      #"i"                 ; if i ou I : negate image
  779 |  1 asmdemo.s    512 | Code        | 11 |         |    2 | 00/10FE : F0 1B       |                      beq      doInverse            
  780 |  1 asmdemo.s    513 | Code        | 11 |         |    2 | 00/1100 : C9 C9       |                      cmp      #"I"                 
  781 |  1 asmdemo.s    514 | Code        | 11 |         |    2 | 00/1102 : F0 17       |                      beq      doInverse            
  782 |  1 asmdemo.s    515 | Comment     | 11 |         |    0 | 00/1104               | *<sym>
  783 |  1 asmdemo.s    516 | Code        | 11 |         |    2 | 00/1104 : C9 9B       | nextkey              cmp      #$9B                 ; escape : exit
  784 |  1 asmdemo.s    517 | Code        | 11 |         |    2 | 00/1106 : F0 0D       |                      beq      exitDK               
  785 |  1 asmdemo.s    518 | Empty       | 11 |         |    0 | 00/1108               |                                                    
  786 |  1 asmdemo.s    519 | Code        | 11 |         |    2 | 00/1108 : C9 E3       |                      cmp      #"c"                 ; c for clear
  787 |  1 asmdemo.s    520 | Code        | 11 |         |    2 | 00/110A : F0 05       |                      beq      doclear              
  788 |  1 asmdemo.s    521 | Code        | 11 |         |    2 | 00/110C : C9 C3       |                      cmp      #"C"                 
  789 |  1 asmdemo.s    522 | Code        | 11 |         |    2 | 00/110E : F0 01       |                      beq      doclear              
  790 |  1 asmdemo.s    523 | Code        | 11 |         |    1 | 00/1110 : 60          |                      rts                           ; none of these keys : do nothing
  791 |  1 asmdemo.s    524 | Comment     | 11 |         |    0 | 00/1111               | *<sym>
  792 |  1 asmdemo.s    525 | Empty       | 11 |         |    0 | 00/1111               | doclear                                            
  793 |  1 asmdemo.s    526 | Code        | 11 |         |    3 | 00/1111 : 20 52 14    |                      jsr      clerscr              ; call clear screen proc.
  794 |  1 asmdemo.s    527 | Code        | 11 |         |    1 | 00/1114 : 60          |                      rts                           
  795 |  1 asmdemo.s    528 | Comment     | 11 |         |    0 | 00/1115               | *<sym>
  796 |  1 asmdemo.s    529 | Code        | 11 |         |    2 | 00/1115 : A9 01       | exitDK               lda      #1                   ; escape : set quit flag
  797 |  1 asmdemo.s    530 | Code        | 11 |         |    3 | 00/1117 : 8D 38 0F    |                      sta      quitflag             
  798 |  1 asmdemo.s    531 | Code        | 11 |         |    1 | 00/111A : 60          |                      rts                           
  799 |  1 asmdemo.s    532 | Empty       | 11 |         |    0 | 00/111B               |                                                    
  800 |  1 asmdemo.s    533 | Comment     | 11 |         |    0 | 00/111B               | *<sym>
  801 |  1 asmdemo.s    534 | Empty       | 11 |         |    0 | 00/111B               | doInverse                                          
  802 |  1 asmdemo.s    535 | Code        | 11 |         |    3 | 00/111B : AD 9A 0F    |                      lda      inverse              
  803 |  1 asmdemo.s    536 | Code        | 11 |         |    2 | 00/111E : 49 01       |                      eor      #$01                 
  804 |  1 asmdemo.s    537 | Code        | 11 |         |    3 | 00/1120 : 8D 9A 0F    |                      sta      inverse              
  805 |  1 asmdemo.s    538 | Code        | 11 |         |    3 | 00/1123 : 4C 37 0E    |                      jmp      startimage           
  806 |  1 asmdemo.s    539 | Empty       | 11 |         |    0 | 00/1126               |                                                    
  807 |  1 asmdemo.s    540 | Comment     | 11 |         |    0 | 00/1126               | *
  808 |  1 asmdemo.s    541 | Comment     | 11 |         |    0 | 00/1126               | *
  809 |  1 asmdemo.s    542 | Comment     | 11 |         |    0 | 00/1126               | * DoPaint
  810 |  1 asmdemo.s    543 | Comment     | 11 |         |    0 | 00/1126               | *
  811 |  1 asmdemo.s    544 | Comment     | 11 |         |    0 | 00/1126               | *<sym>
  812 |  1 asmdemo.s    545 | Empty       | 11 |         |    0 | 00/1126               | DoPaint                                            
  813 |  1 asmdemo.s    546 | Macro       | 11 |         |    0 | 00/1126               |                      GP_call  {{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1};LineDHGR
  814 |  1 asmdemo.s    546 | Code        | 11 |         |    3 | 00/1126 : 20 00 40    |                      jsr      {$4000}              ; graphic primitives only entry point
  815 |  1 asmdemo.s    546 | Data        | 11 |         |    1 | 00/1129 : 14          |                      dfb      {{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}; command ID (1 byte)
  816 |  1 asmdemo.s    546 | Data        | 11 |         |    2 | 00/112A : 2D 11       |                      da       LineDHGR             ; address of parameter(s) (2 bytes), 0 if no paramter
  817 |  1 asmdemo.s    547 | Code        | 11 |         |    1 | 00/112C : 60          |                      rts                           
  818 |  1 asmdemo.s    548 | Empty       | 11 |         |    0 | 00/112D               |                                                    
  819 |  1 asmdemo.s    549 | Data        | 11 |         |    4 | 00/112D : 00 00 0A 00 | LineDHGR             dw       0,10                 ; view location on current port
  820 |  1 asmdemo.s    550 | Data        | 11 |         |    2 | 00/1131 : 3D 11       |                      dw       LineBits             ; bitmap pointer
  821 |  1 asmdemo.s    551 | Data        | 11 |         |    2 | 00/1133 : 50 00       |                      dw       80                   ; width of bitmap
  822 |  1 asmdemo.s    552 | Data        | 11 |         |    8 | 00/1135 : 00 00 00 00 |                      dw       0,0,560,0            ; clip rectangle
      |                     |             |    |         |      |           30 02 00 00 |
  823 |  1 asmdemo.s    553 | Empty       | 11 |         |    0 | 00/113D               |                                                    
  824 |  1 asmdemo.s    554 | Empty       | 11 |         |    0 | 00/113D               | LineBits                                           
  825 |  1 asmdemo.s    555 | Data        | 11 |         |   80 | 00/113D : FF FF FF FF |                      ds       80,$FF               
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
      |                     |             |    |         |      |           FF FF FF FF |
  826 |  1 asmdemo.s    556 | Empty       | 11 |         |    0 | 00/118D               |                                                    
  827 |  1 asmdemo.s    557 | Comment     | 11 |         |    0 | 00/118D               | *<sym>
  828 |  1 asmdemo.s    558 | Empty       | 11 |         |    0 | 00/118D               | DoPaint2                                           
  829 |  1 asmdemo.s    559 | Code        | 11 |         |    2 | 00/118D : A0 00       |                      ldy      #0                   
  830 |  1 asmdemo.s    560 | Empty       | 11 |         |    0 | 00/118F               | outter                                             
  831 |  1 asmdemo.s    561 | Code        | 11 |         |    1 | 00/118F : 5A          |                      phy                           
  832 |  1 asmdemo.s    562 | Code        | 11 |         |    2 | 00/1190 : A2 00       |                      ldx      #0                   
  833 |  1 asmdemo.s    563 | Empty       | 11 |         |    0 | 00/1192               | godraw                                             
  834 |  1 asmdemo.s    564 | Code        | 11 |         |    1 | 00/1192 : DA          |                      phx                           
  835 |  1 asmdemo.s    565 | Macro       | 11 |         |    0 | 00/1193               |                      GP_call  {{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1};TestBits2
  836 |  1 asmdemo.s    565 | Code        | 11 |         |    3 | 00/1193 : 20 00 40    |                      jsr      {$4000}              ; graphic primitives only entry point
  837 |  1 asmdemo.s    565 | Data        | 11 |         |    1 | 00/1196 : 14          |                      dfb      {{{{{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}; command ID (1 byte)
  838 |  1 asmdemo.s    565 | Data        | 11 |         |    2 | 00/1197 : AE 11       |                      da       TestBits2            ; address of parameter(s) (2 bytes), 0 if no paramter
  839 |  1 asmdemo.s    566 | Empty       | 11 |         |    0 | 00/1199               |                                                    
  840 |  1 asmdemo.s    567 | Code        | 11 |         |    1 | 00/1199 : FA          |                      plx                           
  841 |  1 asmdemo.s    568 | Code        | 11 |         |    3 | 00/119A : BD BE 11    |                      lda      DataBits,x           
  842 |  1 asmdemo.s    569 | Code        | 11 |         |    1 | 00/119D : 38          |                      sec                           
  843 |  1 asmdemo.s    570 | Code        | 11 |         |    1 | 00/119E : 2A          |                      rol                           
  844 |  1 asmdemo.s    571 | Code        | 11 |         |    3 | 00/119F : 9D BE 11    |                      sta      DataBits,x           
  845 |  1 asmdemo.s    572 | Code        | 11 |         |    1 | 00/11A2 : E8          |                      inx                           
  846 |  1 asmdemo.s    573 | Code        | 11 |         |    2 | 00/11A3 : E0 1E       |                      cpx      #30                  
  847 |  1 asmdemo.s    574 | Code        | 11 |         |    2 | 00/11A5 : D0 EB       |                      bne      godraw               
  848 |  1 asmdemo.s    575 | Code        | 11 |         |    1 | 00/11A7 : 7A          |                      ply                           
  849 |  1 asmdemo.s    576 | Code        | 11 |         |    1 | 00/11A8 : C8          |                      iny                           
  850 |  1 asmdemo.s    577 | Code        | 11 |         |    2 | 00/11A9 : C0 07       |                      cpy      #7                   
  851 |  1 asmdemo.s    578 | Code        | 11 |         |    2 | 00/11AB : D0 E2       |                      bne      outter               
  852 |  1 asmdemo.s    579 | Code        | 11 |         |    1 | 00/11AD : 60          |                      rts                           
  853 |  1 asmdemo.s    580 | Empty       | 11 |         |    0 | 00/11AE               |                                                    
  854 |  1 asmdemo.s    581 | Data        | 11 |         |    4 | 00/11AE : 32 00 32 00 | TestBits2            dw       50,50                ; view location on current port
  855 |  1 asmdemo.s    582 | Data        | 11 |         |    2 | 00/11B2 : BE 11       |                      dw       DataBits             ; bitmap pointer
  856 |  1 asmdemo.s    583 | Data        | 11 |         |    2 | 00/11B4 : 03 00       |                      dw       3                    ; width of bitmap
  857 |  1 asmdemo.s    584 | Data        | 11 |         |    8 | 00/11B6 : 00 00 00 00 |                      dw       0,0,17,9             ; clip rectangle
      |                     |             |    |         |      |           11 00 09 00 |
  858 |  1 asmdemo.s    585 | Empty       | 11 |         |    0 | 00/11BE               |                                                    
  859 |  1 asmdemo.s    586 | Data        | 11 |         |    3 | 00/11BE : 00 00 00    | DataBits             dfb      $00,$00,$00          ; bitmap data
  860 |  1 asmdemo.s    587 | Data        | 11 |         |    3 | 00/11C1 : 00 00 00    |                      dfb      $00,$00,$00          
  861 |  1 asmdemo.s    588 | Data        | 11 |         |    3 | 00/11C4 : 00 00 00    |                      dfb      $00,$00,$00          
  862 |  1 asmdemo.s    589 | Data        | 11 |         |    3 | 00/11C7 : 00 00 00    |                      dfb      $00,$00,$00          
  863 |  1 asmdemo.s    590 | Data        | 11 |         |    3 | 00/11CA : 00 00 00    |                      dfb      $00,$00,$00          
  864 |  1 asmdemo.s    591 | Data        | 11 |         |    3 | 00/11CD : 00 00 00    |                      dfb      $00,$00,$00          
  865 |  1 asmdemo.s    592 | Data        | 11 |         |    3 | 00/11D0 : 00 00 00    |                      dfb      $00,$00,$00          
  866 |  1 asmdemo.s    593 | Data        | 11 |         |    3 | 00/11D3 : 00 00 00    |                      dfb      $00,$00,$00          
  867 |  1 asmdemo.s    594 | Data        | 11 |         |    3 | 00/11D6 : 00 00 00    |                      dfb      $00,$00,$00          
  868 |  1 asmdemo.s    595 | Data        | 11 |         |    3 | 00/11D9 : 00 00 00    |                      dfb      $00,$00,$00          
  869 |  1 asmdemo.s    596 | Empty       | 11 |         |    0 | 00/11DC               |                                                    
  870 |  1 asmdemo.s    597 | Comment     | 11 |         |    0 | 00/11DC               | * Wait for keypress
  871 |  1 asmdemo.s    598 | Comment     | 11 |         |    0 | 00/11DC               | *
  872 |  1 asmdemo.s    599 | Comment     | 11 |         |    0 | 00/11DC               | *<sym>
  873 |  1 asmdemo.s    600 | Empty       | 11 |         |    0 | 00/11DC               | WaitForKeyPress                                    
  874 |  1 asmdemo.s    601 | Code        | 11 |         |    3 | 00/11DC : AD 00 C0    |                      lda      {$C000}              
  875 |  1 asmdemo.s    602 | Code        | 11 |         |    2 | 00/11DF : 10 FB       |                      bpl      WaitForKeyPress      
  876 |  1 asmdemo.s    603 | Code        | 11 |         |    3 | 00/11E1 : 8D 10 C0    |                      sta      {$C010}              
  877 |  1 asmdemo.s    604 | Code        | 11 |         |    1 | 00/11E4 : 60          |                      rts                           
  878 |  1 asmdemo.s    605 | Comment     | 11 |         |    0 | 00/11E5               | *
  879 |  1 asmdemo.s    606 | Comment     | 11 |         |    0 | 00/11E5               | * ClearIt
  880 |  1 asmdemo.s    607 | Comment     | 11 |         |    0 | 00/11E5               | *
  881 |  1 asmdemo.s    608 | Empty       | 11 |         |    0 | 00/11E5               | ozunid_10                                          
  882 |  1 asmdemo.s    608 | Equivalence | 11 |         |    0 | 00/11E5               | ClearIt              equ      ozunid_10            ; fill port with black
  883 |  1 asmdemo.s    609 | Macro       | 11 |         |    0 | 00/11E5               |                      GP_call  {{{{{{{1}+1}+1}+1}+1}+1}+1};ModeCopy; pen + destination = pen
  884 |  1 asmdemo.s    609 | Code        | 11 |         |    3 | 00/11E5 : 20 00 40    |                      jsr      {$4000}              ; graphic primitives only entry point
  885 |  1 asmdemo.s    609 | Data        | 11 |         |    1 | 00/11E8 : 07          |                      dfb      {{{{{{{1}+1}+1}+1}+1}+1}+1}; command ID (1 byte)
  886 |  1 asmdemo.s    609 | Data        | 11 |         |    2 | 00/11E9 : 63 12       |                      da       ModeCopy             ; address of parameter(s) (2 bytes), 0 if no paramter
  887 |  1 asmdemo.s    610 | Macro       | 11 |         |    0 | 00/11EB               |                      GP_call  {{{{{{{{1}+1}+1}+1}+1}+1}+1}+1};Black; black (0,0,...)
  888 |  1 asmdemo.s    610 | Code        | 11 |         |    3 | 00/11EB : 20 00 40    |                      jsr      {$4000}              ; graphic primitives only entry point
  889 |  1 asmdemo.s    610 | Data        | 11 |         |    1 | 00/11EE : 08          |                      dfb      {{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}; command ID (1 byte)
  890 |  1 asmdemo.s    610 | Data        | 11 |         |    2 | 00/11EF : 88 12       |                      da       Black                ; address of parameter(s) (2 bytes), 0 if no paramter
  891 |  1 asmdemo.s    611 | Macro       | 11 |         |    0 | 00/11F1               |                      GP_call  {{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1};WowRect; paint very large rectangle in black
  892 |  1 asmdemo.s    611 | Code        | 11 |         |    3 | 00/11F1 : 20 00 40    |                      jsr      {$4000}              ; graphic primitives only entry point
  893 |  1 asmdemo.s    611 | Data        | 11 |         |    1 | 00/11F4 : 11          |                      dfb      {{{{{{{{{{{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}+1}; command ID (1 byte)
  894 |  1 asmdemo.s    611 | Data        | 11 |         |    2 | 00/11F5 : FE 11       |                      da       WowRect              ; address of parameter(s) (2 bytes), 0 if no paramter
  895 |  1 asmdemo.s    612 | Macro       | 11 |         |    0 | 00/11F7               |                      GP_call  {{{{{{{{1}+1}+1}+1}+1}+1}+1}+1};White; restore pattern to white (1,1,...)
  896 |  1 asmdemo.s    612 | Code        | 11 |         |    3 | 00/11F7 : 20 00 40    |                      jsr      {$4000}              ; graphic primitives only entry point
  897 |  1 asmdemo.s    612 | Data        | 11 |         |    1 | 00/11FA : 08          |                      dfb      {{{{{{{{1}+1}+1}+1}+1}+1}+1}+1}; command ID (1 byte)
  898 |  1 asmdemo.s    612 | Data        | 11 |         |    2 | 00/11FB : 91 12       |                      da       White                ; address of parameter(s) (2 bytes), 0 if no paramter
  899 |  1 asmdemo.s    613 | Code        | 11 |         |    1 | 00/11FD : 60          |                      rts                           
  900 |  1 asmdemo.s    614 | Data        | 11 |         |    8 | 00/11FE : 00 00 00 00 | WowRect              dw       0,0,10000,10000      ; very large rectangle
      |                     |             |    |         |      |           10 27 10 27 |
  901 |  1 asmdemo.s    615 | Comment     | 11 |         |    0 | 00/1206               | *
  902 |  1 asmdemo.s    616 | Comment     | 11 |         |    0 | 00/1206               | * Data for rects., polygons, bitmap, and text
  903 |  1 asmdemo.s    617 | Comment     | 11 |         |    0 | 00/1206               | *
  904 |  1 asmdemo.s    618 | Data        | 11 |         |   36 | 00/1206 : 00 00 00 00 | TestPort             ds       {{{{{{{{{{{0}+4}+2}+2}+8}+10}+4}+2}+1}+1}+2}; space for TestPort (= standard grafport = screen grafport)
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
  905 |  1 asmdemo.s    619 | Comment     | 11 |         |    0 | 00/122A               | *
  906 |  1 asmdemo.s    620 | Data        | 11 |         |    8 | 00/122A : 1E 00 1E 00 | testrect1            dw       30,30,95,150         ; a ractangle
      |                     |             |    |         |      |           5F 00 96 00 |
  907 |  1 asmdemo.s    621 | Data        | 11 |         |    8 | 00/1232 : C8 00 32 00 | testrect2            dw       200,50,520,140       ; a ractangle
      |                     |             |    |         |      |           08 02 8C 00 |
  908 |  1 asmdemo.s    622 | Comment     | 11 |         |    0 | 00/123A               | *
  909 |  1 asmdemo.s    623 | Data        | 11 |         |    4 | 00/123A : 00 00 00 00 | Point1               dw       0,0                  ; upper left corner
  910 |  1 asmdemo.s    624 | Data        | 11 |         |    4 | 00/123E : 2F 02 00 00 | Point2               dw       559,0                ; bottom right corner
  911 |  1 asmdemo.s    625 | Comment     | 11 |         |    0 | 00/1242               | *
  912 |  1 asmdemo.s    626 | Data        | 11 |         |    8 | 00/1242 : 0A 00 0A 00 | R1                   dw       10,10,30,30          ; a rect (x,y)
      |                     |             |    |         |      |           1E 00 1E 00 |
  913 |  1 asmdemo.s    627 | Data        | 11 |         |    8 | 00/124A : 1C 00 1C 00 | R2                   dw       28,28,70,70          ; a rect (x,y)
      |                     |             |    |         |      |           46 00 46 00 |
  914 |  1 asmdemo.s    628 | Data        | 11 |         |    8 | 00/1252 : 28 00 28 00 | R3                   dw       40,40,90,90          ; a rect (x,y)
      |                     |             |    |         |      |           5A 00 5A 00 |
  915 |  1 asmdemo.s    629 | Data        | 11 |         |    8 | 00/125A : 64 00 1E 00 | R4                   dw       100,30,180,60        ; a rect (x,y)
      |                     |             |    |         |      |           B4 00 3C 00 |
  916 |  1 asmdemo.s    630 | Comment     | 11 |         |    0 | 00/1262               | *
  917 |  1 asmdemo.s    631 | Data        | 11 |         |    1 | 00/1262 : 05          | ModeNotOr            dfb      5                    
  918 |  1 asmdemo.s    632 | Data        | 11 |         |    1 | 00/1263 : 00          | ModeCopy             dfb      0                    
  919 |  1 asmdemo.s    633 | Comment     | 11 |         |    0 | 00/1264               | *
  920 |  1 asmdemo.s    634 | Data        | 11 |         |    9 | 00/1264 : 66 66 66 66 | Color1               dfb      $66,$66,$66,$66,$66,$66,$66,$66,0; green pattern
      |                     |             |    |         |      |           66 66 66 66 |
      |                     |             |    |         |      |           00          |
  921 |  1 asmdemo.s    635 | Data        | 11 |         |    9 | 00/126D : 11 11 11 11 | Color2               dfb      $11,$11,$11,$11,$11,$11,$11,$11,0; blue pattern
      |                     |             |    |         |      |           11 11 11 11 |
      |                     |             |    |         |      |           00          |
  922 |  1 asmdemo.s    636 | Data        | 11 |         |    9 | 00/1276 : CC CC CC CC | Color3               dfb      $CC,$CC,$CC,$CC,$CC,$CC,$CC,$CC,0; orange pattern
      |                     |             |    |         |      |           CC CC CC CC |
      |                     |             |    |         |      |           00          |
  923 |  1 asmdemo.s    637 | Data        | 11 |         |    9 | 00/127F : 38 74 EE 47 | weave                dfb      $38,$74,$EE,$47,$83,$C5,$EE,$5C,0; nice pattern ! (yellow weave)
      |                     |             |    |         |      |           83 C5 EE 5C |
      |                     |             |    |         |      |           00          |
  924 |  1 asmdemo.s    638 | Empty       | 11 |         |    0 | 00/1288               |                                                    
  925 |  1 asmdemo.s    639 | Data        | 11 |         |    9 | 00/1288 : 00 00 00 00 | Black                dfb      0,0,0,0,0,0,0,0,0    ; black pattern
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00          |
  926 |  1 asmdemo.s    640 | Data        | 11 |         |    8 | 00/1291 : FF FF FF FF | White                ds       8,$FF                ; white pattern
      |                     |             |    |         |      |           FF FF FF FF |
  927 |  1 asmdemo.s    641 | Data        | 11 |         |    1 | 00/1299 : 00          |                      dfb      0                    
  928 |  1 asmdemo.s    642 | Comment     | 11 |         |    0 | 00/129A               | *
  929 |  1 asmdemo.s    643 | Comment     | 11 |         |    0 | 00/129A               |                                                         ; A shape
  930 |  1 asmdemo.s    644 | Data        | 11 |         |    2 | 00/129A : 08 80       | TestPoly             dfb      8,$80                ; 8 vertices, $80 : there is anather poly in this list
  931 |  1 asmdemo.s    645 | Data        | 11 |         |   32 | 00/129C : 40 00 A8 00 |                      dw       64,168,192,168,224,120,288,120,320,168,448,168,320,40,192,40
      |                     |             |    |         |      |           C0 00 A8 00 |
      |                     |             |    |         |      |           E0 00 78 00 |
      |                     |             |    |         |      |           20 01 78 00 |
      |                     |             |    |         |      |           40 01 A8 00 |
      |                     |             |    |         |      |           C0 01 A8 00 |
      |                     |             |    |         |      |           40 01 28 00 |
      |                     |             |    |         |      |           C0 00 28 00 |
  932 |  1 asmdemo.s    646 | Comment     | 11 |         |    0 | 00/12BC               |                 ; dw 3                                  ; replaced by more readable :
  933 |  1 asmdemo.s    647 | Data        | 11 |         |    1 | 00/12BC : 03          |                      db       3                    ; second poly of the list, 3 vertices
  934 |  1 asmdemo.s    648 | Comment     | 11 |         |    0 | 00/12BD               |                                                         ; makes a hole in first poly.
  935 |  1 asmdemo.s    649 | Data        | 11 |         |    1 | 00/12BD : 00          |                      db       0                    ; $80 : last poly
  936 |  1 asmdemo.s    650 | Data        | 11 |         |   12 | 00/12BE : E0 00 60 00 |                      dw       224,96,288,96,256,56 
      |                     |             |    |         |      |           20 01 60 00 |
      |                     |             |    |         |      |           00 01 38 00 |
  937 |  1 asmdemo.s    651 | Comment     | 11 |         |    0 | 00/12CA               | *
  938 |  1 asmdemo.s    652 | Data        | 11 |         |    4 | 00/12CA : 32 00 32 00 | TestBits             dw       50,50                ; view location on current port
  939 |  1 asmdemo.s    653 | Data        | 11 |         |    2 | 00/12CE : DA 12       |                      dw       Handbits             ; bitmap pointer
  940 |  1 asmdemo.s    654 | Data        | 11 |         |    2 | 00/12D0 : 03 00       |                      dw       3                    ; width of bitmap
  941 |  1 asmdemo.s    655 | Data        | 11 |         |    8 | 00/12D2 : 00 00 00 00 |                      dw       0,0,17,9             ; clip rectangle
      |                     |             |    |         |      |           11 00 09 00 |
  942 |  1 asmdemo.s    656 | Data        | 11 |         |   12 | 00/12DA : 00 00 00 20 | Handbits             dfb      $00,$00,$00,$20,$00,$00,$30,$00,$00,$38,$00,$00; bitmap data
      |                     |             |    |         |      |           00 00 30 00 |
      |                     |             |    |         |      |           00 38 00 00 |
  943 |  1 asmdemo.s    657 | Data        | 11 |         |   12 | 00/12E6 : 5E 7F 07 7E |                      dfb      $5E,$7F,$07,$7E,$00,$00,$3E,$1F,$00,$7E,$00,$00
      |                     |             |    |         |      |           00 00 3E 1F |
      |                     |             |    |         |      |           00 7E 00 00 |
  944 |  1 asmdemo.s    658 | Data        | 11 |         |    6 | 00/12F2 : 3C 0F 00 00 |                      dfb      $3C,$0F,$00,$00,$00,$00
      |                     |             |    |         |      |           00 00       |
  945 |  1 asmdemo.s    659 | Comment     | 11 |         |    0 | 00/12F8               | *
  946 |  1 asmdemo.s    660 | Data        | 11 |         |    4 | 00/12F8 : 04 00 32 00 | Point3               dw       4,50                 
  947 |  1 asmdemo.s    661 | Comment     | 11 |         |    0 | 00/12FC               | *
  948 |  1 asmdemo.s    662 | Comment     | 11 |         |    0 | 00/12FC               | *
  949 |  1 asmdemo.s    663 | Data        | 11 |         |    2 | 00/12FC : FF 12       | TestText             dw       message              
  950 |  1 asmdemo.s    664 | Data        | 11 |         |    1 | 00/12FE : 2F          |                      dfb      {ozunid_11-message}  
  951 |  1 asmdemo.s    665 | Data        | 11 |         |   47 | 00/12FF : 54 68 69 73 | message              asc      'This is a test of the emergency graphics system'
      |                     |             |    |         |      |           20 69 73 20 |
      |                     |             |    |         |      |           61 20 74 65 |
      |                     |             |    |         |      |           73 74 20 6F |
      |                     |             |    |         |      |           66 20 74 68 |
      |                     |             |    |         |      |           65 20 65 6D |
      |                     |             |    |         |      |           65 72 67 65 |
      |                     |             |    |         |      |           6E 63 79 20 |
      |                     |             |    |         |      |           67 72 61 70 |
      |                     |             |    |         |      |           68 69 63 73 |
      |                     |             |    |         |      |           20 73 79 73 |
      |                     |             |    |         |      |           74 65 6D    |
  952 |  1 asmdemo.s    666 | Empty       | 11 |         |    0 | 00/132E               | ozunid_11                                          
  953 |  1 asmdemo.s    666 | Equivalence | 11 |         |    0 | 00/132E               | msglength            equ      ozunid_11-message    
  954 |  1 asmdemo.s    667 | Comment     | 11 |         |    0 | 00/132E               | *
  955 |  1 asmdemo.s    668 | Comment     | 11 |         |    0 | 00/132E               | *
  956 |  1 asmdemo.s    669 | Comment     | 11 |         |    0 | 00/132E               | * MyPort          ds 50,0    
  957 |  1 asmdemo.s    670 | Comment     | 11 |         |    0 | 00/132E               | *<sym>                             
  958 |  1 asmdemo.s    671 | Data        | 11 |         |   36 | 00/132E : 00 00 00 00 | MyPort               ds       {{{{{{{{{{{0}+4}+2}+2}+8}+10}+4}+2}+1}+1}+2}; space for a grafport stucture
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
  959 |  1 asmdemo.s    672 | Comment     | 11 |         |    0 | 00/1352               |                                                         ; this is better than original line above.
  960 |  1 asmdemo.s    673 | Data        | 11 |         |    4 | 00/1352 : 00 00 00 00 | MyBits               dw       0,0                  ; viewloc
  961 |  1 asmdemo.s    674 | Data        | 11 |         |    2 | 00/1356 : 00 80       |                      dw       {$8000}              
  962 |  1 asmdemo.s    675 | Data        | 11 |         |    2 | 00/1358 : 28 00       |                      dw       40                   
  963 |  1 asmdemo.s    676 | Data        | 11 |         |    8 | 00/135A : 00 00 00 00 |                      dw       0,0,200,100          
      |                     |             |    |         |      |           C8 00 64 00 |
  964 |  1 asmdemo.s    677 | Empty       | 11 |         |    0 | 00/1362               |                                                    
  965 |  1 asmdemo.s    678 | Data        | 11 |         |    4 | 00/1362 : 32 00 1E 00 | MyDestBits           dw       50,30                
  966 |  1 asmdemo.s    679 | Data        | 11 |         |    2 | 00/1366 : 00 80       |                      dw       {$8000}              
  967 |  1 asmdemo.s    680 | Data        | 11 |         |    2 | 00/1368 : 28 00       |                      dw       40                   
  968 |  1 asmdemo.s    681 | Data        | 11 |         |    8 | 00/136A : 00 00 00 00 |                      dw       0,0,200,100          
      |                     |             |    |         |      |           C8 00 64 00 |
  969 |  1 asmdemo.s    682 | Comment     | 11 |         |    0 | 00/1372               | *
  970 |  1 asmdemo.s    683 | Data        | 11 |         |    2 | 00/1372 : 75 13       | ContText             dw       message1             
  971 |  1 asmdemo.s    684 | Data        | 11 |         |    1 | 00/1374 : 22          |                      dfb      {ozunid_12-message1} 
  972 |  1 asmdemo.s    685 | Data        | 11 |         |   34 | 00/1375 : 20 50 6C 65 | message1             asc      ' Please press RETURN to continue. '
      |                     |             |    |         |      |           61 73 65 20 |
      |                     |             |    |         |      |           70 72 65 73 |
      |                     |             |    |         |      |           73 20 52 45 |
      |                     |             |    |         |      |           54 55 52 4E |
      |                     |             |    |         |      |           20 74 6F 20 |
      |                     |             |    |         |      |           63 6F 6E 74 |
      |                     |             |    |         |      |           69 6E 75 65 |
      |                     |             |    |         |      |           2E 20       |
  973 |  1 asmdemo.s    686 | Empty       | 11 |         |    0 | 00/1397               | ozunid_12                                          
  974 |  1 asmdemo.s    686 | Equivalence | 11 |         |    0 | 00/1397               | msglgth              equ      ozunid_12-message1   
  975 |  1 asmdemo.s    687 | Data        | 11 |         |    4 | 00/1397 : 1E 00 BE 00 | Point4               dw       30,190               
  976 |  1 asmdemo.s    688 | Data        | 11 |         |    1 | 00/139B : 08          | Switch               dfb      8                    
  977 |  1 asmdemo.s    689 | Comment     | 11 |         |    0 | 00/139C               | *
  978 |  1 asmdemo.s    690 | Data        | 11 |         |    2 | 00/139C : 9F 13       | QuitText             dw       message2             
  979 |  1 asmdemo.s    691 | Data        | 11 |         |    1 | 00/139E : 3C          |                      dfb      {ozunid_13-message2} 
  980 |  1 asmdemo.s    692 | Data        | 11 |         |   60 | 00/139F : 20 20 20 20 | message2             asc      '      Please press RETURN to Quit..........                 '
      |                     |             |    |         |      |           20 20 50 6C |
      |                     |             |    |         |      |           65 61 73 65 |
      |                     |             |    |         |      |           20 70 72 65 |
      |                     |             |    |         |      |           73 73 20 52 |
      |                     |             |    |         |      |           45 54 55 52 |
      |                     |             |    |         |      |           4E 20 74 6F |
      |                     |             |    |         |      |           20 51 75 69 |
      |                     |             |    |         |      |           74 2E 2E 2E |
      |                     |             |    |         |      |           2E 2E 2E 2E |
      |                     |             |    |         |      |           2E 2E 2E 20 |
      |                     |             |    |         |      |           20 20 20 20 |
      |                     |             |    |         |      |           20 20 20 20 |
      |                     |             |    |         |      |           20 20 20 20 |
      |                     |             |    |         |      |           20 20 20 20 |
  981 |  1 asmdemo.s    693 | Empty       | 11 |         |    0 | 00/13DB               | ozunid_13                                          
  982 |  1 asmdemo.s    693 | Equivalence | 11 |         |    0 | 00/13DB               | msglgth1             equ      ozunid_13-message2   
  983 |  1 asmdemo.s    694 | Comment     | 11 |         |    0 | 00/13DB               | *
  984 |  1 asmdemo.s    695 | Data        | 11 |         |    2 | 00/13DB : DE 13       | BufText              dw       message3             
  985 |  1 asmdemo.s    696 | Data        | 11 |         |    1 | 00/13DD : 29          |                      dfb      {ozunid_14-message3} 
  986 |  1 asmdemo.s    697 | Data        | 11 |         |   41 | 00/13DE : 20 20 20 20 | message3             asc      '      Now drawing into buffer............'
      |                     |             |    |         |      |           20 20 4E 6F |
      |                     |             |    |         |      |           77 20 64 72 |
      |                     |             |    |         |      |           61 77 69 6E |
      |                     |             |    |         |      |           67 20 69 6E |
      |                     |             |    |         |      |           74 6F 20 62 |
      |                     |             |    |         |      |           75 66 66 65 |
      |                     |             |    |         |      |           72 2E 2E 2E |
      |                     |             |    |         |      |           2E 2E 2E 2E |
      |                     |             |    |         |      |           2E 2E 2E 2E |
      |                     |             |    |         |      |           2E          |
  987 |  1 asmdemo.s    698 | Empty       | 11 |         |    0 | 00/1407               | ozunid_14                                          
  988 |  1 asmdemo.s    698 | Equivalence | 11 |         |    0 | 00/1407               | msglgth2             equ      ozunid_14-message3   
  989 |  1 asmdemo.s    699 | Empty       | 11 |         |    0 | 00/1407               |                                                    
  990 |  1 asmdemo.s    700 | Empty       | 11 |         |    0 | 00/1407               |                                                    
  991 |  1 asmdemo.s    701 | Comment     | 11 |         |    0 | 00/1407               | * ------------------ utils ------------------
  992 |  1 asmdemo.s    702 | Empty       | 11 |         |    0 | 00/1407               |                                                    
  993 |  1 asmdemo.s    703 | Comment     | 11 |         |    0 | 00/1407               | *<sym>
  994 |  1 asmdemo.s    704 | Empty       | 11 |         |    0 | 00/1407               | testLength                                         
  995 |  1 asmdemo.s    705 | Code        | 11 |         |    3 | 00/1407 : AD 6F 16    |                      lda      filelength+2         ;       Byte 3 must 0 (else file size would be > $FFFF)
  996 |  1 asmdemo.s    706 | Code        | 11 |         |    2 | 00/140A : F0 02       |                      beq      ozunid_6             
  997 |  1 asmdemo.s    707 | Code        | 11 |         |    1 | 00/140C : 38          |                      sec                           
  998 |  1 asmdemo.s    708 | Code        | 11 |         |    1 | 00/140D : 60          |                      rts                           
  999 |  1 asmdemo.s    709 | Empty       | 11 |         |    0 | 00/140E               | ozunid_6                                           
 1000 |  1 asmdemo.s    710 | Code        | 11 |         |    3 | 00/140E : AD 6E 16    |                      lda      filelength+1         ; compare file length
 1001 |  1 asmdemo.s    711 | Code        | 11 |         |    2 | 00/1411 : C9 20       |                      cmp      #>{$2000}            ; to maxlen
 1002 |  1 asmdemo.s    712 | Code        | 11 |         |    2 | 00/1413 : D0 05       |                      bne      ozunid_7             
 1003 |  1 asmdemo.s    713 | Code        | 11 |         |    3 | 00/1415 : AD 6D 16    |                      lda      filelength           
 1004 |  1 asmdemo.s    714 | Code        | 11 |         |    2 | 00/1418 : C9 00       |                      cmp      #<{$2000}            
 1005 |  1 asmdemo.s    715 | Empty       | 11 |         |    0 | 00/141A               | ozunid_7                                           
 1006 |  1 asmdemo.s    716 | Code        | 11 |         |    2 | 00/141A : 90 04       |                      bcc      lowerlen             ; lower : OK
 1007 |  1 asmdemo.s    717 | Code        | 11 |         |    2 | 00/141C : D0 04       |                      bne      higherlen            ; higher : KO
 1008 |  1 asmdemo.s    718 | Code        | 11 |         |    2 | 00/141E : F0 00       |                      beq      lowerlen             ; = : OK
 1009 |  1 asmdemo.s    719 | Comment     | 11 |         |    0 | 00/1420               | *<sym>
 1010 |  1 asmdemo.s    720 | Code        | 11 |         |    1 | 00/1420 : 18          | lowerlen             clc                           
 1011 |  1 asmdemo.s    721 | Code        | 11 |         |    1 | 00/1421 : 60          |                      rts                           
 1012 |  1 asmdemo.s    722 | Comment     | 11 |         |    0 | 00/1422               | *<sym>
 1013 |  1 asmdemo.s    723 | Empty       | 11 |         |    0 | 00/1422               | higherlen                                          
 1014 |  1 asmdemo.s    724 | Code        | 11 |         |    1 | 00/1422 : 38          |                      sec                           
 1015 |  1 asmdemo.s    725 | Code        | 11 |         |    1 | 00/1423 : 60          |                      rts                           
 1016 |  1 asmdemo.s    726 | Empty       | 11 |         |    0 | 00/1424               |                                                    
 1017 |  1 asmdemo.s    727 | Comment     | 11 |         |    0 | 00/1424               | * open BMP file
 1018 |  1 asmdemo.s    728 | Empty       | 11 |         |    0 | 00/1424               |                                                    
 1019 |  1 asmdemo.s    729 | Comment     | 11 |         |    0 | 00/1424               | *<sym>
 1020 |  1 asmdemo.s    730 | Empty       | 11 |         |    0 | 00/1424               | openBMP                                            
 1021 |  1 asmdemo.s    731 | Code        | 11 |         |    3 | 00/1424 : 20 00 BF    |                      jsr      {$BF00}              ; OPEN file
 1022 |  1 asmdemo.s    732 | Data        | 11 |         |    1 | 00/1427 : C8          |                      dfb      {$C8}                
 1023 |  1 asmdemo.s    733 | Data        | 11 |         |    2 | 00/1428 : 45 15       |                      da       OPEN_parms           
 1024 |  1 asmdemo.s    734 | Comment     | 11 |         |    0 | 00/142A               | *<bp>
 1025 |  1 asmdemo.s    735 | Code        | 11 |         |    2 | 00/142A : 90 01       |                      bcc      GetEOF               ; no error, go on
 1026 |  1 asmdemo.s    736 | Code        | 11 |         |    1 | 00/142C : 60          |                      rts                           
 1027 |  1 asmdemo.s    737 | Comment     | 11 |         |    0 | 00/142D               | *<sym>
 1028 |  1 asmdemo.s    738 | Empty       | 11 |         |    0 | 00/142D               | GetEOF                                             
 1029 |  1 asmdemo.s    739 | Code        | 11 |         |    3 | 00/142D : AD 4A 15    |                      lda      ref                  ; get reference to file (got it in open mli call above)
 1030 |  1 asmdemo.s    740 | Code        | 11 |         |    3 | 00/1430 : 8D 3E 15    |                      sta      refread              ; set it for reading
 1031 |  1 asmdemo.s    741 | Code        | 11 |         |    3 | 00/1433 : 8D 6C 16    |                      sta      refd1                ; set if for geteof
 1032 |  1 asmdemo.s    742 | Empty       | 11 |         |    0 | 00/1436               |                                                    
 1033 |  1 asmdemo.s    743 | Code        | 11 |         |    3 | 00/1436 : 20 00 BF    |                      jsr      {$BF00}              ; Call GetEOF to get length of file
 1034 |  1 asmdemo.s    744 | Data        | 11 |         |    1 | 00/1439 : D1          |                      dfb      {$d1}                
 1035 |  1 asmdemo.s    745 | Data        | 11 |         |    2 | 00/143A : 6B 16       |                      da       GET_EOF_param        
 1036 |  1 asmdemo.s    746 | Code        | 11 |         |    2 | 00/143C : 90 01       |                      bcc      geteofOK             ; if call was ok then go on
 1037 |  1 asmdemo.s    747 | Code        | 11 |         |    1 | 00/143E : 60          |                      rts                           
 1038 |  1 asmdemo.s    748 | Comment     | 11 |         |    0 | 00/143F               | *<sym>
 1039 |  1 asmdemo.s    749 | Empty       | 11 |         |    0 | 00/143F               | geteofOK                                           
 1040 |  1 asmdemo.s    750 | Code        | 11 |         |    3 | 00/143F : 20 07 14    |                      jsr      testLength           ; compare maxlen (max size for an image in memory ans size of BMP file
 1041 |  1 asmdemo.s    751 | Code        | 11 |         |    2 | 00/1442 : 90 01       |                      bcc      LoadBMP              ; ok if file size < max size
 1042 |  1 asmdemo.s    752 | Code        | 11 |         |    1 | 00/1444 : 60          |                      rts                           
 1043 |  1 asmdemo.s    753 | Empty       | 11 |         |    0 | 00/1445               |                                                    
 1044 |  1 asmdemo.s    754 | Comment     | 11 |         |    0 | 00/1445               | *<sym>
 1045 |  1 asmdemo.s    755 | Empty       | 11 |         |    0 | 00/1445               | LoadBMP                                            ; read BMP file
 1046 |  1 asmdemo.s    756 | Code        | 11 |         |    3 | 00/1445 : AD 4A 15    |                      lda      ref                  ; set reference to file (got it in open mli call above)
 1047 |  1 asmdemo.s    757 | Code        | 11 |         |    3 | 00/1448 : 8D 3E 15    |                      sta      refread              
 1048 |  1 asmdemo.s    758 | Code        | 11 |         |    3 | 00/144B : 20 00 BF    |                      jsr      {$BF00}              
 1049 |  1 asmdemo.s    759 | Data        | 11 |         |    1 | 00/144E : CA          |                      dfb      {$CA}                
 1050 |  1 asmdemo.s    760 | Data        | 11 |         |    2 | 00/144F : 3D 15       |                      da       READ_param           
 1051 |  1 asmdemo.s    761 | Code        | 11 |         |    1 | 00/1451 : 60          |                      rts                           
 1052 |  1 asmdemo.s    762 | Empty       | 11 |         |    0 | 00/1452               |                                                    
 1053 |  1 asmdemo.s    763 | Comment     | 11 |         |    0 | 00/1452               | * Clear DHGR screen   
 1054 |  1 asmdemo.s    764 | Equivalence | 11 |         |    0 | 00/1452               | screenbase           equ      $2000                ; address of screen memory
 1055 |  1 asmdemo.s    765 | Comment     | 11 |         |    0 | 00/1452               | *<sym> 
 1056 |  1 asmdemo.s    766 | Empty       | 11 |         |    0 | 00/1452               | clerscr                                            
 1057 |  1 asmdemo.s    767 | Code        | 11 |         |    2 | 00/1452 : A9 00       |                      lda      #<{$2000}            
 1058 |  1 asmdemo.s    768 | Code        | 11 |         |    2 | 00/1454 : 85 06       |                      sta      {$06}                
 1059 |  1 asmdemo.s    769 | Code        | 11 |         |    2 | 00/1456 : A9 20       |                      lda      #>{$2000}+1          
 1060 |  1 asmdemo.s    770 | Code        | 11 |         |    2 | 00/1458 : 85 07       |                      sta      {$06}+1              
 1061 |  1 asmdemo.s    771 | Code        | 11 |         |    2 | 00/145A : A0 00       |                      ldy      #0                   
 1062 |  1 asmdemo.s    772 | Code        | 11 |         |    2 | 00/145C : A9 00       |                      lda      #0                   
 1063 |  1 asmdemo.s    773 | Code        | 11 |         |    3 | 00/145E : 8D 00 C0    |                      STA      $C000                
 1064 |  1 asmdemo.s    774 | Comment     | 11 |         |    0 | 00/1461               | *<sym> 
 1065 |  1 asmdemo.s    775 | Empty       | 11 |         |    0 | 00/1461               | clrloop                                            
 1066 |  1 asmdemo.s    776 | Code        | 11 |         |    2 | 00/1461 : 91 06       |                      sta      ({$06}),y            
 1067 |  1 asmdemo.s    777 | Code        | 11 |         |    3 | 00/1463 : 8D 05 C0    |                      sta      {$C005}              ; write char in aux
 1068 |  1 asmdemo.s    778 | Code        | 11 |         |    2 | 00/1466 : 91 06       |                      sta      ({$06}),y            
 1069 |  1 asmdemo.s    779 | Code        | 11 |         |    3 | 00/1468 : 8D 04 C0    |                      sta      {$C004}              
 1070 |  1 asmdemo.s    780 | Code        | 11 |         |    1 | 00/146B : C8          |                      iny                           
 1071 |  1 asmdemo.s    781 | Code        | 11 |         |    2 | 00/146C : D0 F3       |                      bne      clrloop              
 1072 |  1 asmdemo.s    782 | Code        | 11 |         |    2 | 00/146E : E6 07       |                      inc      {$06}+1              
 1073 |  1 asmdemo.s    783 | Code        | 11 |         |    2 | 00/1470 : A6 07       |                      ldx      {$06}+1              
 1074 |  1 asmdemo.s    784 | Code        | 11 |         |    2 | 00/1472 : E0 40       |                      cpx      #$40                 
 1075 |  1 asmdemo.s    785 | Code        | 11 |         |    2 | 00/1474 : D0 EB       |                      bne      clrloop              
 1076 |  1 asmdemo.s    786 | Code        | 11 |         |    3 | 00/1476 : 8D 01 C0    |                      sta      $C001                
 1077 |  1 asmdemo.s    787 | Code        | 11 |         |    3 | 00/1479 : 20 DC 11    |                      jsr      WaitForKeyPress      
 1078 |  1 asmdemo.s    788 | Code        | 11 |         |    3 | 00/147C : 4C 37 0E    |                      jmp      startimage           
 1079 |  1 asmdemo.s    789 | Code        | 11 |         |    1 | 00/147F : 60          |                      rts                           
 1080 |  1 asmdemo.s    790 | Empty       | 11 |         |    0 | 00/1480               |                                                    
 1081 |  1 asmdemo.s    791 | Comment     | 11 |         |    0 | 00/1480               | *<sym>
 1082 |  1 asmdemo.s    792 | Empty       | 11 |         |    0 | 00/1480               | DoTextScreen                                       
 1083 |  1 asmdemo.s    793 | Code        | 11 |         |    3 | 00/1480 : 8D 00 C0    |                      sta      $c000                ;80store off
 1084 |  1 asmdemo.s    794 | Code        | 11 |         |    3 | 00/1483 : 8D 02 C0    |                      sta      $c002                ;RAMRD main
 1085 |  1 asmdemo.s    795 | Code        | 11 |         |    3 | 00/1486 : 8D 04 C0    |                      sta      $c004                ;RAMWRT main
 1086 |  1 asmdemo.s    796 | Code        | 11 |         |    3 | 00/1489 : 8D 0C C0    |                      sta      $c00c                ;80col off
 1087 |  1 asmdemo.s    797 | Code        | 11 |         |    3 | 00/148C : 8D 0E C0    |                      sta      $c00e                ;Altcharset off
 1088 |  1 asmdemo.s    798 | Code        | 11 |         |    3 | 00/148F : 8D 81 C0    |                      sta      $c081                ;write RAM, read ROM (2nd 4k bank)
 1089 |  1 asmdemo.s    799 | Code        | 11 |         |    3 | 00/1492 : 20 2F FB    |                      jsr      {$FB2F}              
 1090 |  1 asmdemo.s    800 | Code        | 11 |         |    3 | 00/1495 : 20 58 FC    |                      jsr      {$FC58}              
 1091 |  1 asmdemo.s    801 | Code        | 11 |         |    3 | 00/1498 : 20 84 FE    |                      jsr      {$FE84}              
 1092 |  1 asmdemo.s    802 | Code        | 11 |         |    3 | 00/149B : 20 93 FE    |                      jsr      {$fe93}              
 1093 |  1 asmdemo.s    803 | Code        | 11 |         |    3 | 00/149E : 20 89 FE    |                      jsr      {$fe89}              
 1094 |  1 asmdemo.s    804 | Code        | 11 |         |    1 | 00/14A1 : 60          |                      rts                           
 1095 |  1 asmdemo.s    805 | Comment     | 11 |         |    0 | 00/14A2               | *
 1096 |  1 asmdemo.s    806 | Comment     | 11 |         |    0 | 00/14A2               | *<sym>
 1097 |  1 asmdemo.s    807 | Empty       | 11 |         |    0 | 00/14A2               | clearbuffer                                        
 1098 |  1 asmdemo.s    808 | Comment     | 11 |         |    0 | 00/14A2               | * clear memory 
 1099 |  1 asmdemo.s    809 | Code        | 11 |         |    2 | 00/14A2 : A9 49       |                      lda      #<outbuff            
 1100 |  1 asmdemo.s    810 | Code        | 11 |         |    2 | 00/14A4 : 85 06       |                      sta      {$06}                
 1101 |  1 asmdemo.s    811 | Code        | 11 |         |    2 | 00/14A6 : A9 0F       |                      lda      #>outbuff            
 1102 |  1 asmdemo.s    812 | Code        | 11 |         |    2 | 00/14A8 : 85 07       |                      sta      {$06}+1              
 1103 |  1 asmdemo.s    813 | Code        | 11 |         |    2 | 00/14AA : A9 00       |                      lda      #0                   
 1104 |  1 asmdemo.s    814 | Code        | 11 |         |    2 | 00/14AC : A0 00       |                      ldy      #0                   
 1105 |  1 asmdemo.s    815 | Comment     | 11 |         |    0 | 00/14AE               | *<sym>
 1106 |  1 asmdemo.s    816 | Code        | 11 |         |    2 | 00/14AE : 91 06       | pokeZ                sta      ({$06}),y            
 1107 |  1 asmdemo.s    817 | Code        | 11 |         |    1 | 00/14B0 : C8          |                      iny                           
 1108 |  1 asmdemo.s    818 | Code        | 11 |         |    2 | 00/14B1 : C0 50       |                      cpy      #80                  
 1109 |  1 asmdemo.s    819 | Code        | 11 |         |    2 | 00/14B3 : D0 F9       |                      bne      pokeZ                
 1110 |  1 asmdemo.s    820 | Code        | 11 |         |    1 | 00/14B5 : 60          |                      rts                           
 1111 |  1 asmdemo.s    821 | Comment     | 11 |         |    0 | 00/14B6               | *               
 1112 |  1 asmdemo.s    822 | Comment     | 11 |         |    0 | 00/14B6               | *<sym>
 1113 |  1 asmdemo.s    823 | Empty       | 11 |         |    0 | 00/14B6               | ProDOSQuit                                         
 1114 |  1 asmdemo.s    824 | Code        | 11 |         |    3 | 00/14B6 : 20 00 BF    |                      jsr      $BF00                ; ProDOS Quit
 1115 |  1 asmdemo.s    825 | Data        | 11 |         |    1 | 00/14B9 : 65          |                      dfb      $65                  
 1116 |  1 asmdemo.s    826 | Data        | 11 |         |    2 | 00/14BA : BD 14       |                      dw       QuitParams           
 1117 |  1 asmdemo.s    827 | Code        | 11 |         |    1 | 00/14BC : 60          |                      rts                           
 1118 |  1 asmdemo.s    828 | Comment     | 11 |         |    0 | 00/14BD               | *<sym>
 1119 |  1 asmdemo.s    829 | Data        | 11 |         |    1 | 00/14BD : 04          | QuitParams           dfb      4                    
 1120 |  1 asmdemo.s    830 | Data        | 11 |         |    8 | 00/14BE : 00 00 00 00 |                      dw       0,0,0,0              ; standard parameters for Quit call
      |                     |             |    |         |      |           00 00 00 00 |
 1121 |  1 asmdemo.s    831 | Comment     | 11 |         |    0 | 00/14C6               | *
 1122 |  1 asmdemo.s    832 | Comment     | 11 |         |    0 | 00/14C6               | *<sym>
 1123 |  1 asmdemo.s    833 | Empty       | 11 |         |    0 | 00/14C6               | computeBytes                                       
 1124 |  1 asmdemo.s    834 | Comment     | 11 |         |    0 | 00/14C6               | * given the # of bits in A,X (lo,hi), computes the # of bytes
 1125 |  1 asmdemo.s    835 | Comment     | 11 |         |    0 | 00/14C6               | * to hold these bits on Apple II screen (7 pixels per byte)           
 1126 |  1 asmdemo.s    836 | Code        | 11 |         |    3 | 00/14C6 : 8D EE 14    |                      sta      mybyte               ; number of bits (16 bits integer)
 1127 |  1 asmdemo.s    837 | Code        | 11 |         |    3 | 00/14C9 : 8E EF 14    |                      stx      mybyte+1             
 1128 |  1 asmdemo.s    838 | Code        | 11 |         |    2 | 00/14CC : A2 01       |                      ldx      #1                   ; x = number of needed bytes
 1129 |  1 asmdemo.s    839 | Comment     | 11 |         |    0 | 00/14CE               | *<sym>
 1130 |  1 asmdemo.s    840 | Empty       | 11 |         |    0 | 00/14CE               | loopbyte                                           
 1131 |  1 asmdemo.s    841 | Code        | 11 |         |    3 | 00/14CE : AD EE 14    |                      lda      mybyte               
 1132 |  1 asmdemo.s    842 | Code        | 11 |         |    1 | 00/14D1 : 38          |                      sec                           
 1133 |  1 asmdemo.s    843 | Code        | 11 |         |    2 | 00/14D2 : E9 07       |                      sbc      #7                   
 1134 |  1 asmdemo.s    844 | Code        | 11 |         |    3 | 00/14D4 : 8D EE 14    |                      sta      mybyte               
 1135 |  1 asmdemo.s    845 | Code        | 11 |         |    3 | 00/14D7 : AD EF 14    |                      lda      mybyte+1             
 1136 |  1 asmdemo.s    846 | Code        | 11 |         |    2 | 00/14DA : E9 00       |                      sbc      #0                   
 1137 |  1 asmdemo.s    847 | Code        | 11 |         |    3 | 00/14DC : 8D EF 14    |                      sta      mybyte+1             
 1138 |  1 asmdemo.s    848 | Empty       | 11 |         |    0 | 00/14DF               |                                                    
 1139 |  1 asmdemo.s    849 | Code        | 11 |         |    3 | 00/14DF : 0D EE 14    |                      ora      mybyte               
 1140 |  1 asmdemo.s    850 | Code        | 11 |         |    2 | 00/14E2 : F0 09       |                      beq      ozunid_8             ; = 0 : exit, nb_byte is correct
 1141 |  1 asmdemo.s    851 | Code        | 11 |         |    3 | 00/14E4 : AD EF 14    |                      lda      mybyte+1             
 1142 |  1 asmdemo.s    852 | Code        | 11 |         |    2 | 00/14E7 : 30 04       |                      bmi      ozunid_8             ; < 0 : exit, nb_byte is correct
 1143 |  1 asmdemo.s    853 | Comment     | 11 |         |    0 | 00/14E9               |                                         ; > 0 : loop
 1144 |  1 asmdemo.s    854 | Code        | 11 |         |    1 | 00/14E9 : E8          |                      inx                           
 1145 |  1 asmdemo.s    855 | Code        | 11 |         |    3 | 00/14EA : 4C CE 14    |                      jmp      loopbyte             
 1146 |  1 asmdemo.s    856 | Empty       | 11 |         |    0 | 00/14ED               | ozunid_8                                           
 1147 |  1 asmdemo.s    857 | Code        | 11 |         |    1 | 00/14ED : 60          |                      rts                           
 1148 |  1 asmdemo.s    858 | Comment     | 11 |         |    0 | 00/14EE               | *<sym>
 1149 |  1 asmdemo.s    859 | Empty       | 11 |         |    0 | 00/14EE               | mybyte                                             
 1150 |  1 asmdemo.s    860 | Data        | 11 |         |    2 | 00/14EE : 00 00       |                      ds       2                    
 1151 |  1 asmdemo.s    861 | Comment     | 11 |         |    0 | 00/14F0               | *
 1152 |  1 asmdemo.s    862 | Comment     | 11 |         |    0 | 00/14F0               | *
 1153 |  1 asmdemo.s    863 | Comment     | 11 |         |    0 | 00/14F0               | *********** PREFIX *************
 1154 |  1 asmdemo.s    864 | Comment     | 11 |         |    0 | 00/14F0               | * Set prefix using current préfix :
 1155 |  1 asmdemo.s    865 | Comment     | 11 |         |    0 | 00/14F0               | * Call GETPREFIX, put it in "path" string
 1156 |  1 asmdemo.s    866 | Comment     | 11 |         |    0 | 00/14F0               | * If no prefix (i.e. length of "path" string = 0),
 1157 |  1 asmdemo.s    867 | Comment     | 11 |         |    0 | 00/14F0               | * then get préfix from last used disk, unsing ONLINE call
 1158 |  1 asmdemo.s    868 | Comment     | 11 |         |    0 | 00/14F0               | * If any error, exit with carry set
 1159 |  1 asmdemo.s    869 | Comment     | 11 |         |    0 | 00/14F0               | * else exit with carry clear
 1160 |  1 asmdemo.s    870 | Comment     | 11 |         |    0 | 00/14F0               | *
 1161 |  1 asmdemo.s    871 | Comment     | 11 |         |    0 | 00/14F0               | *<sym>
 1162 |  1 asmdemo.s    872 | Empty       | 11 |         |    0 | 00/14F0               | doprefix                                           
 1163 |  1 asmdemo.s    873 | Code        | 11 |         |    3 | 00/14F0 : 20 00 BF    |                      jsr      {$BF00}              ; getprefix MLI call ; put prefix in "path"
 1164 |  1 asmdemo.s    874 | Data        | 11 |         |    1 | 00/14F3 : C7          |                      dfb      {$c7}                
 1165 |  1 asmdemo.s    875 | Data        | 11 |         |    2 | 00/14F4 : 4F 15       |                      da       GET_PREFIX_param     
 1166 |  1 asmdemo.s    876 | Code        | 11 |         |    2 | 00/14F6 : 90 01       |                      bcc      gpOk                 
 1167 |  1 asmdemo.s    877 | Code        | 11 |         |    1 | 00/14F8 : 60          |                      rts                           
 1168 |  1 asmdemo.s    878 | Comment     | 11 |         |    0 | 00/14F9               | *<sym>
 1169 |  1 asmdemo.s    879 | Empty       | 11 |         |    0 | 00/14F9               | gpOk                                               
 1170 |  1 asmdemo.s    880 | Code        | 11 |         |    3 | 00/14F9 : AD 59 15    |                      lda      path                 ; first char = length
 1171 |  1 asmdemo.s    881 | Code        | 11 |         |    2 | 00/14FC : F0 03       |                      beq      noprefix             ; if length = 0 => no prefix
 1172 |  1 asmdemo.s    882 | Code        | 11 |         |    3 | 00/14FE : 4C 3C 15    |                      jmp      prefixSetOK          ; else prefix already set, exit
 1173 |  1 asmdemo.s    883 | Comment     | 11 |         |    0 | 00/1501               | *<sym>
 1174 |  1 asmdemo.s    884 | Empty       | 11 |         |    0 | 00/1501               | noprefix                                           
 1175 |  1 asmdemo.s    885 | Code        | 11 |         |    3 | 00/1501 : AD 30 BF    |                      lda      {$BF30}              ; last used slot/drive
 1176 |  1 asmdemo.s    886 | Code        | 11 |         |    3 | 00/1504 : 8D 56 15    |                      sta      unit                 ; param du mli online
 1177 |  1 asmdemo.s    887 | Code        | 11 |         |    3 | 00/1507 : 20 00 BF    |                      jsr      {$BF00}              
 1178 |  1 asmdemo.s    888 | Data        | 11 |         |    1 | 00/150A : C5          |                      dfb      {$C5}                ; on_line : get prefix in path
 1179 |  1 asmdemo.s    889 | Data        | 11 |         |    2 | 00/150B : 55 15       |                      da       ONLINE_param         
 1180 |  1 asmdemo.s    890 | Code        | 11 |         |    2 | 00/150D : 90 01       |                      bcc      onlineOK             
 1181 |  1 asmdemo.s    891 | Code        | 11 |         |    1 | 00/150F : 60          |                      rts                           
 1182 |  1 asmdemo.s    892 | Comment     | 11 |         |    0 | 00/1510               | *<sym>
 1183 |  1 asmdemo.s    893 | Empty       | 11 |         |    0 | 00/1510               | onlineOK                                           
 1184 |  1 asmdemo.s    894 | Code        | 11 |         |    3 | 00/1510 : AD 59 15    |                      lda      path                 
 1185 |  1 asmdemo.s    895 | Code        | 11 |         |    2 | 00/1513 : 29 0F       |                      and      #$0f                 ; length in low nibble
 1186 |  1 asmdemo.s    896 | Code        | 11 |         |    3 | 00/1515 : 8D 59 15    |                      sta      path                 
 1187 |  1 asmdemo.s    897 | Code        | 11 |         |    1 | 00/1518 : AA          |                      tax                           
 1188 |  1 asmdemo.s    898 | Comment     | 11 |         |    0 | 00/1519               | *<sym>
 1189 |  1 asmdemo.s    899 | Code        | 11 |         |    3 | 00/1519 : BD 59 15    | ozunid_9             lda      path,x               ; shift prefix by one byte
 1190 |  1 asmdemo.s    900 | Code        | 11 |         |    3 | 00/151C : 9D 5A 15    |                      sta      path+1,x             ;
 1191 |  1 asmdemo.s    901 | Code        | 11 |         |    1 | 00/151F : CA          |                      dex                           
 1192 |  1 asmdemo.s    902 | Code        | 11 |         |    2 | 00/1520 : D0 F7       |                      bne      ozunid_9             ; all string
 1193 |  1 asmdemo.s    903 | Code        | 11 |         |    3 | 00/1522 : EE 59 15    |                      inc      path                 
 1194 |  1 asmdemo.s    904 | Code        | 11 |         |    3 | 00/1525 : EE 59 15    |                      inc      path                 ; length = length + 2
 1195 |  1 asmdemo.s    905 | Code        | 11 |         |    3 | 00/1528 : AE 59 15    |                      ldx      path                 ;
 1196 |  1 asmdemo.s    906 | Code        | 11 |         |    2 | 00/152B : A9 AF       |                      lda      #$af                 ; = '/'
 1197 |  1 asmdemo.s    907 | Code        | 11 |         |    3 | 00/152D : 9D 59 15    |                      sta      path,x               ; insert '/'' at the end
 1198 |  1 asmdemo.s    908 | Code        | 11 |         |    3 | 00/1530 : 8D 5A 15    |                      sta      path+1               ; and '/'' at the beginning
 1199 |  1 asmdemo.s    909 | Empty       | 11 |         |    0 | 00/1533               |                                                    
 1200 |  1 asmdemo.s    910 | Code        | 11 |         |    3 | 00/1533 : 20 00 BF    |                      jsr      {$BF00}              ; set_prefix (in the form : /prefix/)
 1201 |  1 asmdemo.s    911 | Data        | 11 |         |    1 | 00/1536 : C6          |                      dfb      {$c6}                
 1202 |  1 asmdemo.s    912 | Data        | 11 |         |    2 | 00/1537 : 52 15       |                      da       SET_PREFIX_param     
 1203 |  1 asmdemo.s    913 | Code        | 11 |         |    2 | 00/1539 : 90 01       |                      bcc      prefixSetOK          
 1204 |  1 asmdemo.s    914 | Code        | 11 |         |    1 | 00/153B : 60          |                      rts                           
 1205 |  1 asmdemo.s    915 | Comment     | 11 |         |    0 | 00/153C               | *<sym>
 1206 |  1 asmdemo.s    916 | Empty       | 11 |         |    0 | 00/153C               | prefixSetOK                                        
 1207 |  1 asmdemo.s    917 | Code        | 11 |         |    1 | 00/153C : 60          |                      rts                           
 1208 |  1 asmdemo.s    918 | Comment     | 11 |         |    0 | 00/153D               | *
 1209 |  1 asmdemo.s    919 | Comment     | 11 |         |    0 | 00/153D               | *
 1210 |  1 asmdemo.s    920 | Comment     | 11 |         |    0 | 00/153D               | * * * * MLI Call READ parameters * * * * 
 1211 |  1 asmdemo.s    921 | Comment     | 11 |         |    0 | 00/153D               | *<sym>
 1212 |  1 asmdemo.s    922 | Empty       | 11 |         |    0 | 00/153D               | READ_param                                         ; READ file
 1213 |  1 asmdemo.s    923 | Data        | 11 |         |    1 | 00/153D : 04          |                      hex      04                   ; number of params.
 1214 |  1 asmdemo.s    924 | Comment     | 11 |         |    0 | 00/153E               | *<sym>
 1215 |  1 asmdemo.s    925 | Data        | 11 |         |    1 | 00/153E : 00          | refread              hex      00                   ; ref #
 1216 |  1 asmdemo.s    926 | Comment     | 11 |         |    0 | 00/153F               | *<sym>
 1217 |  1 asmdemo.s    927 | Data        | 11 |         |    2 | 00/153F : 00 60       | rdbuffa              da       {$6000}              
 1218 |  1 asmdemo.s    928 | Comment     | 11 |         |    0 | 00/1541               | *<sym>
 1219 |  1 asmdemo.s    929 | Data        | 11 |         |    2 | 00/1541 : 00 20       | rreq                 hex      0020                 ; bytes requested
 1220 |  1 asmdemo.s    930 | Comment     | 11 |         |    0 | 00/1543               | *<sym>
 1221 |  1 asmdemo.s    931 | Data        | 11 |         |    2 | 00/1543 : 00 00       | readlen              hex      0000                 ; bytes read
 1222 |  1 asmdemo.s    932 | Comment     | 11 |         |    0 | 00/1545               | *
 1223 |  1 asmdemo.s    933 | Comment     | 11 |         |    0 | 00/1545               | * * * * MLI Call OPEN parameters * * * * 
 1224 |  1 asmdemo.s    934 | Comment     | 11 |         |    0 | 00/1545               | *<sym>
 1225 |  1 asmdemo.s    935 | Empty       | 11 |         |    0 | 00/1545               | OPEN_parms                                         ; OPEN file for reading
 1226 |  1 asmdemo.s    936 | Data        | 11 |         |    1 | 00/1545 : 03          |                      hex      03                   ; number of params.
 1227 |  1 asmdemo.s    937 | Data        | 11 |         |    2 | 00/1546 : 4B 15       |                      da       fname                ; path name
 1228 |  1 asmdemo.s    938 | Comment     | 11 |         |    0 | 00/1548               | *<sym>
 1229 |  1 asmdemo.s    939 | Data        | 11 |         |    2 | 00/1548 : 00 00       | fbuff                hex      0000                 
 1230 |  1 asmdemo.s    940 | Comment     | 11 |         |    0 | 00/154A               | *<sym>
 1231 |  1 asmdemo.s    941 | Data        | 11 |         |    1 | 00/154A : 00          | ref                  hex      00                   
 1232 |  1 asmdemo.s    942 | Comment     | 11 |         |    0 | 00/154B               | *<sym>
 1233 |  1 asmdemo.s    943 | Data        | 11 |         |    4 | 00/154B : 03 49 4D 47 | fname                str      'IMG'                
 1234 |  1 asmdemo.s    944 | Comment     | 11 |         |    0 | 00/154F               | *
 1235 |  1 asmdemo.s    945 | Comment     | 11 |         |    0 | 00/154F               | * * * * MLI Call GET_PREFIX parameters * * * * 
 1236 |  1 asmdemo.s    946 | Comment     | 11 |         |    0 | 00/154F               | *<sym>
 1237 |  1 asmdemo.s    947 | Empty       | 11 |         |    0 | 00/154F               | GET_PREFIX_param                                   ; GET_PREFIX
 1238 |  1 asmdemo.s    948 | Data        | 11 |         |    1 | 00/154F : 01          |                      hex      01                   ; number of params.
 1239 |  1 asmdemo.s    949 | Data        | 11 |         |    2 | 00/1550 : 59 15       |                      da       path                 
 1240 |  1 asmdemo.s    950 | Empty       | 11 |         |    0 | 00/1552               |                                                    
 1241 |  1 asmdemo.s    951 | Comment     | 11 |         |    0 | 00/1552               | *
 1242 |  1 asmdemo.s    952 | Comment     | 11 |         |    0 | 00/1552               | * * * * MLI Call SET_PREFIX parameters * * * *
 1243 |  1 asmdemo.s    953 | Comment     | 11 |         |    0 | 00/1552               | *<sym>
 1244 |  1 asmdemo.s    954 | Empty       | 11 |         |    0 | 00/1552               | SET_PREFIX_param                                   ; SET_PREFIX
 1245 |  1 asmdemo.s    955 | Data        | 11 |         |    1 | 00/1552 : 01          |                      hex      01                   ; number of params.
 1246 |  1 asmdemo.s    956 | Data        | 11 |         |    2 | 00/1553 : 59 15       |                      da       path                 
 1247 |  1 asmdemo.s    957 | Comment     | 11 |         |    0 | 00/1555               | *
 1248 |  1 asmdemo.s    958 | Comment     | 11 |         |    0 | 00/1555               | *
 1249 |  1 asmdemo.s    959 | Comment     | 11 |         |    0 | 00/1555               | * * * * MLI Call ONLINE parameters * * * *
 1250 |  1 asmdemo.s    960 | Comment     | 11 |         |    0 | 00/1555               | *<sym>
 1251 |  1 asmdemo.s    961 | Empty       | 11 |         |    0 | 00/1555               | ONLINE_param                                       ; ONLINE
 1252 |  1 asmdemo.s    962 | Data        | 11 |         |    1 | 00/1555 : 02          |                      hex      02                   ; number of params.
 1253 |  1 asmdemo.s    963 | Comment     | 11 |         |    0 | 00/1556               | *<sym>
 1254 |  1 asmdemo.s    964 | Data        | 11 |         |    1 | 00/1556 : 00          | unit                 hex      00                   
 1255 |  1 asmdemo.s    965 | Data        | 11 |         |    2 | 00/1557 : 59 15       |                      da       path                 
 1256 |  1 asmdemo.s    966 | Comment     | 11 |         |    0 | 00/1559               | *
 1257 |  1 asmdemo.s    967 | Comment     | 11 |         |    0 | 00/1559               | *<sym>
 1258 |  1 asmdemo.s    968 | Data        | 11 |         |  256 | 00/1559 : 00 00 00 00 | path                 ds       256                  ; storage for path
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
      |                     |             |    |         |      |           00 00 00 00 |
 1259 |  1 asmdemo.s    969 | Comment     | 11 |         |    0 | 00/1659               | *
 1260 |  1 asmdemo.s    970 | Comment     | 11 |         |    0 | 00/1659               | * * * * MLI Call GET_FILE_INFO parameters * * * *
 1261 |  1 asmdemo.s    971 | Comment     | 11 |         |    0 | 00/1659               | *<sym>
 1262 |  1 asmdemo.s    972 | Empty       | 11 |         |    0 | 00/1659               | GET_FILE_INFO_param                                ; GET_FILE_INFO
 1263 |  1 asmdemo.s    973 | Data        | 11 |         |    1 | 00/1659 : 0A          |                      hex      0A                   
 1264 |  1 asmdemo.s    974 | Data        | 11 |         |    2 | 00/165A : 59 15       |                      da       path                 
 1265 |  1 asmdemo.s    975 | Comment     | 11 |         |    0 | 00/165C               | *<sym>
 1266 |  1 asmdemo.s    976 | Data        | 11 |         |    1 | 00/165C : 00          | access               hex      00                   
 1267 |  1 asmdemo.s    977 | Comment     | 11 |         |    0 | 00/165D               | *<sym>
 1268 |  1 asmdemo.s    978 | Data        | 11 |         |    1 | 00/165D : 00          | ftype                hex      00                   
 1269 |  1 asmdemo.s    979 | Comment     | 11 |         |    0 | 00/165E               | *<sym>
 1270 |  1 asmdemo.s    980 | Data        | 11 |         |    2 | 00/165E : 00 00       | auxtype              hex      0000                 
 1271 |  1 asmdemo.s    981 | Comment     | 11 |         |    0 | 00/1660               | *<sym>
 1272 |  1 asmdemo.s    982 | Data        | 11 |         |    1 | 00/1660 : 00          | stotype              hex      00                   
 1273 |  1 asmdemo.s    983 | Comment     | 11 |         |    0 | 00/1661               | *<sym>
 1274 |  1 asmdemo.s    984 | Data        | 11 |         |    2 | 00/1661 : 00 00       | blocks               hex      0000                 
 1275 |  1 asmdemo.s    985 | Comment     | 11 |         |    0 | 00/1663               | *<sym>
 1276 |  1 asmdemo.s    986 | Data        | 11 |         |    2 | 00/1663 : 00 00       | date                 hex      0000                 
 1277 |  1 asmdemo.s    987 | Comment     | 11 |         |    0 | 00/1665               | *<sym>
 1278 |  1 asmdemo.s    988 | Data        | 11 |         |    2 | 00/1665 : 00 00       | time                 hex      0000                 
 1279 |  1 asmdemo.s    989 | Data        | 11 |         |    2 | 00/1667 : 00 00       | cdate                hex      0000                 
 1280 |  1 asmdemo.s    990 | Data        | 11 |         |    2 | 00/1669 : 00 00       | ctime                hex      0000                 
 1281 |  1 asmdemo.s    991 | Comment     | 11 |         |    0 | 00/166B               | *
 1282 |  1 asmdemo.s    992 | Comment     | 11 |         |    0 | 00/166B               | * * * * MLI Call GET_EOF parameters * * * *
 1283 |  1 asmdemo.s    993 | Comment     | 11 |         |    0 | 00/166B               | *<sym>
 1284 |  1 asmdemo.s    994 | Empty       | 11 |         |    0 | 00/166B               | GET_EOF_param                                      ; GET_EOF
 1285 |  1 asmdemo.s    995 | Data        | 11 |         |    1 | 00/166B : 02          |                      hex      02                   
 1286 |  1 asmdemo.s    996 | Comment     | 11 |         |    0 | 00/166C               | *<sym>
 1287 |  1 asmdemo.s    997 | Data        | 11 |         |    1 | 00/166C : 00          | refd1                hex      00                   
 1288 |  1 asmdemo.s    998 | Comment     | 11 |         |    0 | 00/166D               | *<sym>
 1289 |  1 asmdemo.s    999 | Data        | 11 |         |    3 | 00/166D : 00 00 00    | filelength           ds       3                    
------+---------------------+-------------+----+---------+------+-----------------------+-------------------------------------------------------------------
